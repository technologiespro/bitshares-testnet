{"version":3,"file":"explorer.3e0417cd0ce13dd5772d.js","sources":["webpack:///explorer.3e0417cd0ce13dd5772d.js"],"sourcesContent":["(this.webpackJsonp=this.webpackJsonp||[]).push([[17],{2026:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return m}));var a=n(0),r=n.n(a),o=n(1),s=n.n(o),i=n(4),l=n(5),c=n.n(l),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var p=r.a.createRef();function m(e){var t=e.onChange,n=e.value,a=e.placeholder,o=e.maxLength,s=e.style,l=e.className,c=e.name,m=e.autoComplete,f=e.onClear,h=e.type,d=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,[\"onChange\",\"value\",\"placeholder\",\"maxLength\",\"style\",\"className\",\"name\",\"autoComplete\",\"onClear\",\"type\"]);return null==f&&(f=function(){t({target:{value:\"\"}}),p.current.focus()}),r.a.createElement(i.Input,u({ref:p,autoComplete:m,style:s,type:h,className:l+\" search-input\",placeholder:a,maxLength:o,name:c,value:n,onChange:t,addonAfter:r.a.createElement(i.Icon,{type:\"search\"}),suffix:f?r.a.createElement(i.Icon,{onClick:f,type:\"close\",className:n?\"cursor-pointer\":\"hide\"}):r.a.createElement(\"span\",null)},d))}m.propTypes={onChange:s.a.func.isRequired,value:s.a.string,placeholder:s.a.string,style:s.a.object,className:s.a.string,type:s.a.string,name:s.a.string,autoComplete:s.a.string,maxLength:s.a.number,onClear:s.a.func},m.defaultProps={placeholder:c.a.translate(\"exchange.filter\"),style:{width:\"200px\"},className:\"\",type:\"text\",name:\"focus\",autoComplete:\"off\",maxLength:16,onClear:void 0}},2029:function(e,t,n){\"use strict\";var a=n(0),r=n.n(a),o=n(16),s=n(1),i=n.n(s),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);e.scroll_length;var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={active:!1},n.listener=!1,n.onBodyClick=n.onBodyClick.bind(n),n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:\"componentDidMount\",value:function(){this._setListener()}},{key:\"shouldComponentUpdate\",value:function(e,t){return!o.a.are_equal_shallow(e.entries,this.props.entries)||!o.a.are_equal_shallow(t,this.state)||e.value!==this.props.value}},{key:\"_setListener\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;e.entries.length>1&&!this.listener&&(this.listener=!0,document.body.addEventListener(\"click\",this.onBodyClick,{capture:!1,passive:!0}))}},{key:\"_removeListener\",value:function(){document.body.removeEventListener(\"click\",this.onBodyClick),this.listener=!1}},{key:\"componentWillReceiveProps\",value:function(e){1===e.entries.length?this._removeListener():e.entries.length>1&&this._setListener(e)}},{key:\"componentWillUnmount\",value:function(){this._removeListener()}},{key:\"onBodyClick\",value:function(e){var t=e.target,n=!1;do{if(t.classList&&t.classList.contains(\"dropdown\")&&t.id===this.props.id){n=!0;break}}while(t=t.parentNode);n?e.stopPropagation():this.setState({active:!1})}},{key:\"onChange\",value:function(e,t){t.preventDefault(),t.stopPropagation(),this.props.onChange(e),this.setState({active:!1})}},{key:\"_toggleDropdown\",value:function(){this.setState({active:!this.state.active})}},{key:\"render\",value:function(){var e=this,t=this.props,n=t.entries,a=t.value,o=this.state.active;if(0===n.length)return null;if(1==n.length)return r.a.createElement(\"div\",{className:\"dropdown-wrapper inactive\"+(this.props.upperCase?\" upper-case\":\"\")},r.a.createElement(\"div\",null,this.props.singleEntry?this.props.singleEntry:n[0]));var s=n.map((function(t){return r.a.createElement(\"li\",{className:e.props.upperCase?\"upper-case\":\"\",key:t,onClick:e.onChange.bind(e,e.props.values[t])},r.a.createElement(\"span\",null,t))}));return r.a.createElement(\"div\",{onClick:this._toggleDropdown.bind(this),className:\"dropdown-wrapper\"+(o?\" active\":\"\")+(this.props.upperCase?\" upper-case\":\"\")},r.a.createElement(\"div\",{style:{paddingRight:15}},a||r.a.createElement(\"span\",{className:\"hidden\"},\"A\")),r.a.createElement(\"ul\",{className:\"dropdown\",style:{overflow:n.length>this.props.scroll_length?\"auto\":\"hidden\"}},s))}}]),t}(r.a.Component);c.propTypes={scroll_length:i.a.number},c.defaultProps={scroll_length:9},t.a=c},2039:function(e,t,n){\"use strict\";var a=n(0),r=n.n(a),o=n(2),s=n.n(o),i=n(6),l=n(44),c=n(48),u=n(5),p=n.n(u),m=n(2029),f=n(35),h=n(9),d=n.n(h),b=n(3),y=n.n(b),g=n(127),v=n(1),k=n.n(v),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function E(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function w(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function O(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var x=function(e){function t(){return E(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,e),_(t,[{key:\"render\",value:function(){return 0!==this.props.assets.length&&this.props.value?r.a.createElement(m.a,{entries:this.props.assets.map((function(e){return e&&e.get(\"symbol\")})).filter((function(e){return!!e})),values:this.props.assets.reduce((function(e,t){return t&&t.get(\"symbol\")&&(e[t.get(\"symbol\")]=t),e}),{}),singleEntry:this.props.assets[0]?r.a.createElement(f.a,{asset:this.props.assets[0].get(\"id\"),amount:0,hide_amount:!0}):null,value:\"\",onChange:this.props.onChange}):null}}]),t}(r.a.Component);x.propTypes={value:k.a.string,onChange:k.a.func},x=Object(g.a)(x,{asList:!0});var S=function(e){function t(){return E(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return O(t,e),_(t,[{key:\"getAsset\",value:function(){return this.props.asset}},{key:\"getError\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.assetInput,t=this.props.error;return t||!e||this.getNameType(e)||(t=p.a.translate(\"explorer.asset.invalid\",{name:e})),t}},{key:\"getNameType\",value:function(e){return e?i.ChainValidation.is_valid_symbol_error(e,!0)?null:\"symbol\":null}},{key:\"onInputChanged\",value:function(e){var t=e.target.value.trim().substr(0,16).toUpperCase();this.props.onChange&&t!==this.props.assetInput&&this.props.onChange(t)}},{key:\"onKeyDown\",value:function(e){13===e.keyCode&&(this.onFound(e),this.onAction(e))}},{key:\"componentDidMount\",value:function(){this.props.onFound&&this.props.asset&&this.props.onFound(this.props.asset)}},{key:\"componentWillReceiveProps\",value:function(e){this.props.onFound&&e.asset!==this.props.asset&&this.props.onFound(e.asset)}},{key:\"onFound\",value:function(e){e.preventDefault(),!this.props.onFound||this.getError()||this.props.disableActionButton||this.props.asset&&this.props.onFound(this.props.asset)}},{key:\"onAssetSelect\",value:function(e){e&&(this.props.onFound(e),this.props.onChange(e.get(\"symbol\")))}},{key:\"onAction\",value:function(e){e.preventDefault(),!this.props.onAction||this.getError()||this.props.disableActionButton||this.props.asset&&this.props.onAction(this.props.asset)}},{key:\"render\",value:function(){var e=this.props,t=e.disabled,n=e.noLabel,a=this.getError(),o=void 0;t||(this.props.asset?o=this.props.asset.get(\"symbol\"):!a&&this.props.assetInput&&(a=p.a.translate(\"explorer.asset.not_found\",{name:this.props.assetInput})));var i=y()(\"button\",{disabled:!this.props.asset||a||this.props.disableActionButton});return r.a.createElement(\"div\",{className:\"asset-selector\",style:this.props.style},r.a.createElement(\"div\",null,r.a.createElement(\"div\",{className:\"header-area\"},a||n?null:r.a.createElement(\"label\",{className:\"right-label\"},\"Â  \",r.a.createElement(\"span\",null,o)),r.a.createElement(s.a,{component:\"label\",content:this.props.label})),r.a.createElement(\"div\",{className:\"input-area\"},r.a.createElement(\"div\",{className:\"inline-label input-wrapper\"},r.a.createElement(\"input\",{style:this.props.inputStyle,disabled:this.props.disabled,type:\"text\",value:this.props.assetInput||\"\",placeholder:this.props.placeholder||p.a.translate(\"explorer.assets.symbol\"),ref:\"user_input\",onChange:this.onInputChanged.bind(this),onKeyDown:this.onKeyDown.bind(this),tabIndex:this.props.tabIndex}),r.a.createElement(\"div\",{className:\"form-label select floating-dropdown\"},this.props.asset?r.a.createElement(x,{ref:this.props.refCallback,value:this.props.asset.get(\"symbol\"),assets:d.a.List(this.props.assets),onChange:this.onAssetSelect.bind(this)}):null),this.props.children,this.props.onAction?r.a.createElement(\"button\",{className:i,onClick:this.onAction.bind(this)},r.a.createElement(s.a,{content:this.props.action_label})):null)),r.a.createElement(\"div\",{className:\"error-area\",style:{paddingBottom:\"10px\"}},r.a.createElement(\"span\",{style:{wordBreak:\"break-all\"}},a))))}}]),t}(r.a.Component);S.propTypes={label:k.a.string,error:k.a.string,placeholder:k.a.string,onChange:k.a.func,onFound:k.a.func,assetInput:k.a.string,asset:l.a.ChainAsset,tabIndex:k.a.number,disableActionButton:k.a.bool},S.defaultProps={disabled:!1},t.a=Object(c.a)(S)},2046:function(e,t,n){\"use strict\";var a=n(0),r=n.n(a),o=n(2092),s=n.n(o),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={animateEnter:!1},e.timer=null,e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:\"componentDidMount\",value:function(){this.enableAnimation()}},{key:\"resetAnimation\",value:function(){this.setState({animateEnter:!1}),this.enableAnimation()}},{key:\"enableAnimation\",value:function(){var e=this;this.timer=setTimeout((function(){e.timer&&e.setState({animateEnter:!0})}),2e3)}},{key:\"componentWillUnmount\",value:function(){clearTimeout(this.timer),this.timer=null}},{key:\"render\",value:function(){return this.props.children?r.a.createElement(s.a,{id:this.props.id,className:this.props.className,component:this.props.component,transitionName:this.props.transitionName,transitionEnterTimeout:this.props.enterTimeout,transitionEnter:this.state.animateEnter,transitionLeave:!1},this.props.children):r.a.createElement(this.props.component)}}]),t}(r.a.Component);l.defaultProps={component:\"span\",enterTimeout:2e3},t.a=l},2047:function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return N})),n.d(t,\"a\",(function(){return A})),n.d(t,\"c\",(function(){return P})),n.d(t,\"d\",(function(){return j}));var a=n(0),r=n.n(a),o=n(35),s=n(44),i=n(48),l=n(127),c=n(16),u=n(30),p=n(197),m=n(2),f=n.n(m),h=n(5),d=n.n(h),b=n(603),y=n(65),g=n(4),v=n(1),k=n.n(v),_=n(6),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},w=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function O(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function x(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function S(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function C(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;try{return y.a.convertValue(e,t,n,o||p.a.getState().allMarketStats,r||_.ChainStore.getAsset(\"1.3.0\"),a||!0)}catch(e){console.log(e)}},T=function(e){function t(e){return x(this,t),S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return C(t,e),w(t,[{key:\"shouldComponentUpdate\",value:function(e){return function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,a)}if(\"value\"in r)return r.value;var s=r.get;return void 0!==s?s.call(a):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"shouldComponentUpdate\",this).call(this,e)||!c.a.are_equal_shallow(e.pulsate,this.props.pulsate)||e.toAsset!==this.props.toAsset||e.fromAsset!==this.props.fromAsset||e.amount!==this.props.amount}},{key:\"render\",value:function(){var e=this.props,t=e.amount,n=e.toAsset,a=e.fromAsset,s=e.fullPrecision,i=e.coreAsset,l=O(e,[\"amount\",\"toAsset\",\"fromAsset\",\"fullPrecision\",\"coreAsset\"]),c=n.get(\"id\"),u=n.get(\"symbol\"),p=j(t,n,a,s,i);return p||0===p?r.a.createElement(o.a,E({noPrefix:!0,amount:p,asset:c,decimalOffset:-1!==u.indexOf(\"BTC\")?4:this.props.fullDecimals?0:this.props.noDecimals?n.get(\"precision\"):n.get(\"precision\")-2},l)):r.a.createElement(g.Tooltip,{placement:\"bottom\",title:d.a.translate(\"tooltip.no_price\")},r.a.createElement(\"div\",{className:\"tooltip inline-block\",style:{fontSize:\"0.9rem\"}},r.a.createElement(f.a,{content:\"account.no_price\"})))}}]),t}(b.a);T.defaultProps={fullPrecision:!0,noDecimals:!1,fullDecimals:!1,hide_asset:!1},T=Object(l.a)(T,{propNames:[\"toAsset\",\"fromAsset\",\"coreAsset\"],defaultProps:{toAsset:\"1.3.0\",coreAsset:\"1.3.0\"}});var N=function(e){function t(){return x(this,t),S(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return C(t,e),w(t,[{key:\"render\",value:function(){var e=this.props,t=e.refCallback,n=O(e,[\"refCallback\"]);return r.a.createElement(T,E({},n,{ref:t}))}}]),t}(r.a.Component);N=Object(u.a)(N,{listenTo:function(){return[p.a]},getProps:function(){return{allMarketStats:p.a.getState().allMarketStats}}});var P=function(e){var t=e.getIn([\"balance\",\"amount\"]);return t||0===t?{asset_id:e.getIn([\"balance\",\"asset_id\"]),amount:Number(e.getIn([\"balance\",\"amount\"]))}:{asset_id:e.get(\"asset_type\"),amount:Number(e.get(\"balance\"))}},A=function(e){function t(){return x(this,t),S(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return C(t,e),w(t,[{key:\"render\",value:function(){var e=this.props,t=e.balance,n=O(e,[\"balance\"]),a=P(t),o=a.amount;this.props.satoshis&&(o=this.props.satoshis);var s=a.asset_id;return isNaN(o)?r.a.createElement(\"span\",null,\"--\"):r.a.createElement(N,E({amount:o,fromAsset:s,noDecimals:!0,fullPrecision:!this.props.satoshis&&this.props.fullPrecision},n))}}]),t}(r.a.Component);A.propTypes={balance:s.a.ChainObject.isRequired,satoshis:k.a.number},A.defaultProps={satoshis:null},A=Object(i.a)(A,{keep_updating:!0})},2077:function(e,t,n){\"use strict\";var a=n(0),r=n.n(a),o=n(44),s=n(48),i=n(128),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function c(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var p=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:\"render\",value:function(){var e=this.props.witness.get(\"witness_account\");return r.a.createElement(i.a,{account:e})}}]),t}(r.a.Component);p.propTypes={witness:o.a.ChainObject.isRequired},p=Object(s.a)(p),t.a=p},2088:function(e,t,n){\"use strict\";var a=n(2025),r=n(0),o=n.n(r),s=n(9),i=n.n(s),l=n(2040),c=n.n(l),u=n(16),p=n(2),m=n.n(p),f=n(27),h=n(30),d=n(35),b=n(127),y=n(44),g=n(48),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function k(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function _(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var E=function(e){function t(){return k(this,t),_(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),v(t,[{key:\"render\",value:function(){return this.props.account?o.a.createElement(\"span\",null,this.props.account.get(\"name\")):null}}]),t}(o.a.Component);E.propTypes={account:y.a.ChainObject.isRequired},E.defaultProps={autosubscribe:!1};var w=Object(g.a)(E),O=n(34),x=n(82),S=n(22),C=n(885),j=n(4),T=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var N=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.statsInterval=null,e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),T(t,[{key:\"_onClick\",value:function(e){\"/market/\"+e!==this.props.location.pathname&&(x.a.switchMarket(),this.props.history.push(\"/market/\"+e))}},{key:\"componentDidMount\",value:function(){this.statsChecked=new Date,this.statsInterval=x.a.getMarketStatsInterval(35e3,this.props.base,this.props.quote)}},{key:\"componentWillUnmount\",value:function(){this.statsInterval&&this.statsInterval()}},{key:\"shouldComponentUpdate\",value:function(e){return!u.a.are_equal_shallow(e,this.props)}},{key:\"_onStar\",value:function(e,t,n){n.preventDefault(),this.props.starred?S.a.removeStarMarket(e,t):S.a.addStarMarket(e,t)}},{key:\"render\",value:function(){var e=this,t=this.props,n=t.quote,a=t.base,r=(t.noSymbols,t.stats),s=t.starred;if(!n||!a)return null;var i=n.get(\"symbol\")+\"_\"+a.get(\"symbol\"),l=n.get(\"symbol\")+\":\"+a.get(\"symbol\"),c=this.props.getDynamicObject(n.get(\"dynamic_asset_data_id\")),p=this.props.getDynamicObject(a.get(\"dynamic_asset_data_id\")),m=u.a.convertPrice(n,a),f={};this.props.leftAlign&&(f.textAlign=\"left\");var h=\"button outline\",b=null;this.props.compact&&(h+=\" no-margin\",b={marginBottom:0,fontSize:\"0.75rem\",padding:\"4px 10px\",borderRadius:\"0px\",letterSpacing:\"0.05rem\"});var y=this.props.columns.map((function(t){switch(t.name){case\"star\":var f=s?\"gold-star\":\"grey-star\";return o.a.createElement(\"td\",{onClick:e._onStar.bind(e,n.get(\"symbol\"),a.get(\"symbol\")),key:t.index},o.a.createElement(O.a,{className:f,name:\"fi-star\",title:\"icons.fi_star.symbol\"}));case\"vol\":var y=r?r.volumeBase:0;return o.a.createElement(\"td\",{onClick:e._onClick.bind(e,i),className:\"text-right\",key:t.index},u.a.format_volume(y));case\"change\":var g=u.a.format_number(r&&r.change?r.change:0,2),v=\"0.00\"===g?\"\":g>0?\"change-up\":\"change-down\";return o.a.createElement(\"td\",{onClick:e._onClick.bind(e,i),className:\"text-right \"+v,key:t.index},g+\"%\");case\"marketName\":return o.a.createElement(\"td\",{onClick:e._onClick.bind(e,i),key:t.index},o.a.createElement(\"div\",{className:h,style:b},l));case\"market\":return o.a.createElement(\"td\",{onClick:e._onClick.bind(e,i),key:t.index},e.props.name);case\"price\":var k=r&&r.price?r.price.toReal():r&&r.close&&r.close.quote.amount&&r.close.base.amount?u.a.get_asset_price(r.close.quote.amount,n,r.close.base.amount,a,!0):u.a.get_asset_price(m.quote.amount,n,m.base.amount,a,!0),_=6;return-1!==[\"BTC\",\"OPEN.BTC\",\"TRADE.BTC\",\"GOLD\",\"SILVER\"].indexOf(a.get(\"symbol\"))&&(_=8),o.a.createElement(\"td\",{onClick:e._onClick.bind(e,i),className:\"text-right\",key:t.index},u.a.format_number(k,k>1e3?0:k>10?2:_));case\"quoteSupply\":return o.a.createElement(\"td\",{onClick:e._onClick.bind(e,i),key:t.index},c?o.a.createElement(d.a,{style:{fontWeight:\"bold\"},amount:parseInt(c.get(\"current_supply\"),10),asset:n.get(\"id\")}):null);case\"baseSupply\":return o.a.createElement(\"td\",{onClick:e._onClick.bind(e,i),key:t.index},p?o.a.createElement(d.a,{style:{fontWeight:\"bold\"},amount:parseInt(p.get(\"current_supply\"),10),asset:a.get(\"id\")}):null);case\"issuer\":return o.a.createElement(\"td\",{onClick:e._onClick.bind(e,i),key:t.index},o.a.createElement(w,{account:n.get(\"issuer\")}));case\"add\":return o.a.createElement(\"td\",{style:{textAlign:\"right\"},key:t.index,onClick:e.props.onCheckMarket.bind(e,i)},o.a.createElement(j.Tooltip,{title:e.props.isDefault?\"This market is a default market and cannot be removed\":null},o.a.createElement(\"input\",{type:\"checkbox\",checked:!!e.props.isChecked||e.props.isDefault,disabled:e.props.isDefault})));case\"remove\":return o.a.createElement(\"td\",{key:t.index,className:\"clickable\",onClick:e.props.removeMarket},o.a.createElement(\"span\",{style:{marginBottom:\"6px\",marginRight:\"6px\",zIndex:999},className:\"text float-right remove\"},\"â\"))}})).sort((function(e,t){return e.key>t.key})),g=\"clickable\";return this.props.current&&(g+=\" activeMarket\"),o.a.createElement(\"tr\",{className:g,style:f},y)}}]),t}(o.a.Component);N.defaultProps={noSymbols:!1},N=Object(C.a)(N);var P=Object(b.a)(N,{propNames:[\"quote\",\"base\"],defaultProps:{tempComponent:\"tr\"},withDynamic:!0}),A=n(21),M=n(197),B=n(594),I=n(97),L=n(472),D=n(3),q=n.n(D),R=n(2039),F=n(5),W=n.n(F),U=n(41),z=n(6),V=n(591),H=n.n(V),G=(n(148),n(88)),Q=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var K=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={backingAsset:\"\",error:!1,valid:!1},e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Q(t,[{key:\"_onMoveUp\",value:function(e){var t=this.props.quotes.findIndex((function(t){return t===e}));S.a.modifyPreferedBases({oldIndex:t,newIndex:t-1})}},{key:\"_onMoveDown\",value:function(e){var t=this.props.quotes.findIndex((function(t){return t===e}));S.a.modifyPreferedBases({oldIndex:t,newIndex:t+1})}},{key:\"_onRemove\",value:function(e){var t=this.props.quotes.findIndex((function(t){return t===e}));t>=0&&S.a.modifyPreferedBases({remove:t})}},{key:\"_onAdd\",value:function(e){-1===this.props.quotes.findIndex((function(t){return t===e.get(\"symbol\")}))&&S.a.modifyPreferedBases({add:e.get(\"symbol\")})}},{key:\"_onInputBackingAsset\",value:function(e){this.setState({backingAsset:e.toUpperCase(),error:null})}},{key:\"_onFoundBackingAsset\",value:function(e){e&&(this.props.quotes.includes(e.get(\"symbol\"))?this.setState({error:\"Asset already being used\",isValid:!1}):this.setState({isValid:!0}))}},{key:\"render\",value:function(){var e=this,t=this.state.error,n=this.props.quotes.size;return o.a.createElement(j.Modal,{title:W.a.translate(\"exchange.quote_selection\"),closable:!1,visible:this.props.visible,id:\"quote_selection\",overlay:!0,onCancel:this.props.hideModal,footer:[o.a.createElement(j.Button,{onClick:this.props.hideModal},W.a.translate(\"modal.close\"))]},o.a.createElement(\"section\",{className:\"no-border-bottom\"},o.a.createElement(\"table\",{className:\"table\"},o.a.createElement(\"thead\",null,o.a.createElement(\"tr\",null,o.a.createElement(\"th\",null),o.a.createElement(\"th\",null,o.a.createElement(m.a,{content:\"account.quote\"})),o.a.createElement(\"th\",{style:{textAlign:\"center\"}},o.a.createElement(m.a,{content:\"exchange.move_down\"})),o.a.createElement(\"th\",{style:{textAlign:\"center\"}},o.a.createElement(m.a,{content:\"exchange.move_up\"})),o.a.createElement(\"th\",{style:{textAlign:\"center\"}},o.a.createElement(m.a,{content:\"exchange.remove\"})))),o.a.createElement(\"tbody\",null,this.props.quotes.map((function(t,a){return o.a.createElement(\"tr\",{key:t},o.a.createElement(\"td\",null,a+1),o.a.createElement(\"td\",null,t),o.a.createElement(\"td\",{className:\"text-center\"},a!==n-1&&o.a.createElement(O.a,{onClick:e._onMoveDown.bind(e,t),name:\"chevron-down\",className:\"clickable\"})),o.a.createElement(\"td\",{className:\"text-center\"},0!==a&&o.a.createElement(O.a,{onClick:e._onMoveUp.bind(e,t),name:\"chevron-down\",className:\"clickable rotate180\"})),o.a.createElement(\"td\",{className:\"text-center\"},n>1&&o.a.createElement(O.a,{onClick:e._onRemove.bind(e,t),name:\"cross-circle\",className:\"clickable\"})))})))),o.a.createElement(\"br\",null),o.a.createElement(\"div\",null,o.a.createElement(R.a,{label:\"exchange.custom_quote\",onChange:this._onInputBackingAsset.bind(this),asset:this.state.backingAsset,assetInput:this.state.backingAsset,tabIndex:1,style:{width:\"100%\",paddingRight:\"10px\"},onFound:this._onFoundBackingAsset.bind(this),onAction:this._onAdd.bind(this),action_label:\"exchange.add_quote\",disableActionButton:!!t,noLabel:!0}),o.a.createElement(\"div\",{className:\"error-area\"},t))))}}]),t}(o.a.Component),J=n(2026),Y=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(a=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")},Z=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function X(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function $(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function ee(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var te=function(e){function t(e){X(this,t);var n=$(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state=n._getInitialState(e),n}return ee(t,e),Z(t,[{key:\"_getInitialState\",value:function(e){var t=!!e.findMarketTab||e.viewSettings.get(\"myMarketsBase_\"+e.index);return{open:void 0===t||t,inverseSort:e.viewSettings.get(\"myMarketsInvert\",!0),sortBy:e.viewSettings.get(\"myMarketsSort\",\"volume\")}}},{key:\"componentWillReceiveProps\",value:function(e){e.findMarketTab!==this.props.findMarketTab&&this.setState(this._getInitialState(e))}},{key:\"shouldComponentUpdate\",value:function(e,t){return!e.markets||!this.props.markets||(!u.a.are_equal_shallow(t,this.state)||!u.a.are_equal_shallow(e.markets,this.props.markets)||e.starredMarkets!==this.props.starredMarkets||e.marketStats!==this.props.marketStats||e.userMarkets!==this.props.userMarkets)}},{key:\"_inverseSort\",value:function(){S.a.changeViewSetting({myMarketsInvert:!this.state.myMarketsInvert}),this.setState({inverseSort:!this.state.inverseSort})}},{key:\"_changeSort\",value:function(e){e!==this.state.sortBy?(S.a.changeViewSetting({myMarketsSort:e}),this.setState({sortBy:e})):this._inverseSort()}},{key:\"_onToggle\",value:function(){if(!this.props.findMarketTab){var e=!this.state.open;this.setState({open:e});var t={};t[\"myMarketsBase_\"+this.props.index]=e,S.a.changeViewSetting(t)}}},{key:\"_onToggleUserMarket\",value:function(e){var t=e.split(\"_\"),n=Y(t,2),a=n[0],r=n[1],o=!this.props.userMarkets.get(e);S.a.setUserMarket(a,r,o)}},{key:\"render\",value:function(){var e=this,t=this.props,n=t.columns,a=t.markets,r=t.base,s=t.marketStats,i=t.starredMarkets,l=t.current,c=this.state,u=c.sortBy,p=c.inverseSort,f=c.open;if(!a||!a.length)return null;var h=n.map((function(t){switch(t.name){case\"market\":return o.a.createElement(\"th\",{key:t.name,className:\"clickable\",onClick:e._changeSort.bind(e,\"name\")},o.a.createElement(m.a,{content:\"exchange.market\"}));case\"vol\":return o.a.createElement(\"th\",{key:t.name,className:\"clickable\",onClick:e._changeSort.bind(e,\"volume\"),style:{textAlign:\"right\"}},o.a.createElement(m.a,{content:\"exchange.vol_short\"}));case\"price\":return o.a.createElement(\"th\",{key:t.name,style:{textAlign:\"right\"}},o.a.createElement(m.a,{content:\"exchange.price\"}));case\"quoteSupply\":return o.a.createElement(\"th\",{key:t.name},o.a.createElement(m.a,{content:\"exchange.base_supply\"}));case\"baseSupply\":return o.a.createElement(\"th\",{key:t.name},o.a.createElement(m.a,{content:\"exchange.quote_supply\"}));case\"change\":return o.a.createElement(\"th\",{key:t.name,className:\"clickable\",onClick:e._changeSort.bind(e,\"change\"),style:{textAlign:\"right\"}},o.a.createElement(m.a,{content:\"exchange.change\"}));case\"issuer\":return o.a.createElement(\"th\",{key:t.name},o.a.createElement(m.a,{content:\"explorer.assets.issuer\"}));case\"add\":return o.a.createElement(\"th\",{key:t.name,style:{textAlign:\"right\"}},o.a.createElement(m.a,{content:\"account.perm.confirm_add\"}));default:return o.a.createElement(\"th\",{key:t.name})}})),d=a.map((function(t){return e.props.onlyLiquid&&s.get(t.id)&&0==s.get(t.id).volumeBase?null:o.a.createElement(P,{key:t.id,name:\"others\"===r?o.a.createElement(\"span\",null,o.a.createElement(I.a,{name:t.quote}),\":\",o.a.createElement(I.a,{name:t.base})):o.a.createElement(I.a,{dataPlace:\"left\",name:t.quote}),quote:t.quote,base:t.base,columns:n,leftAlign:!0,compact:!0,noSymbols:!0,stats:s.get(t.id),starred:i.has(t.id),current:l===t.id,isChecked:e.props.userMarkets.has(t.id),isDefault:e.props.defaultMarkets&&e.props.defaultMarkets.has(t.id),onCheckMarket:e._onToggleUserMarket.bind(e),location:e.props.location,history:e.props.history})})).filter((function(e){return null!==e})).sort((function(e,t){var n=e.key.split(\"_\"),a=t.key.split(\"_\"),r=s.get(n[0]+\"_\"+n[1]),o=s.get(a[0]+\"_\"+a[1]);switch(u){case\"name\":return n[0]>a[0]?p?-1:1:n[0]<a[0]?p?1:-1:n[1]>a[1]?p?-1:1:n[1]<a[1]?p?1:-1:0;case\"volume\":return r&&o?p?o.volumeBase-r.volumeBase:r.volumeBase-o.volumeBase:0;case\"change\":return r&&o?p?o.change-r.change:r.change-o.change:0}}));return o.a.createElement(\"div\",{style:{paddingRight:10}},f?o.a.createElement(\"table\",{className:\"table table-hover text-right\"},o.a.createElement(\"thead\",null,o.a.createElement(\"tr\",null,h)),d&&d.length?o.a.createElement(\"tbody\",null,d):null):null)}}]),t}(o.a.Component);te.defaultProps={maxRows:20,onlyLiquid:!1};var ne=function(e){function t(e){X(this,t);var n=$(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.clearInput=function(){n.setState({myMarketFilter:\"\"})},n.handleSearchUpdate=function(e){n.setState({myMarketFilter:e.target.value&&e.target.value.toUpperCase()})},n.state={isQuoteModalVisible:!1,inverseSort:e.viewSettings.get(\"myMarketsInvert\",!0),sortBy:e.viewSettings.get(\"myMarketsSort\",\"volume\"),activeTab:e.viewSettings.get(\"favMarketTab\",\"my-market\"),activeMarketTab:e.viewSettings.get(\"activeMarketTab\",0),lookupQuote:null,lookupBase:null,inputValue:\"\",minWidth:\"100%\",findBaseInput:\"BTS\",activeFindBase:\"BTS\"},n._setMinWidth=n._setMinWidth.bind(n),n.getAssetList=Object(a.a)(L.a.getAssetList.defer,150),n.showQuoteModal=n.showQuoteModal.bind(n),n.hideQuoteModal=n.hideQuoteModal.bind(n),n}return ee(t,e),Z(t,[{key:\"shouldComponentUpdate\",value:function(e,t){return this.state.activeTab!==t.activeTab?this._changeTab(t.activeTab):e.tabHeader||this.state.activeTab===e.activeTab||this._changeTab(e.activeTab),!(i.a.is(e.searchAssets,this.props.searchAssets)&&i.a.is(e.markets,this.props.markets)&&i.a.is(e.starredMarkets,this.props.starredMarkets)&&i.a.is(e.defaultMarkets,this.props.defaultMarkets)&&i.a.is(e.marketStats,this.props.marketStats)&&u.a.are_equal_shallow(t,this.state)&&e.current===this.props.current&&e.minWidth===this.props.minWidth&&e.listHeight===this.props.listHeight&&e.preferredBases===this.props.preferredBases&&e.onlyStars===this.props.onlyStars&&e.onlyLiquid===this.props.onlyLiquid&&e.assetsLoading===this.props.assetsLoading&&e.userMarkets===this.props.userMarkets)}},{key:\"componentWillMount\",value:function(){if(this.props.setMinWidth&&window.addEventListener(\"resize\",this._setMinWidth,{capture:!1,passive:!0}),this.props.currrent){var e=this.props.current.split(\"_\")[1],t=this.props.preferredBases.findIndex((function(t){return t===e}));-1!==t&&t!==this.state.activeMarketTab&&this.setState({activeMarketTab:t})}}},{key:\"componentDidMount\",value:function(){var e=this,t=this.refs.favorites;c.a.initialize(t),this._setMinWidth(),this.state.activeTab!==this.props.activeTab&&setTimeout((function(){e._changeTab(e.props.activeTab)}),100)}},{key:\"componentWillUnmount\",value:function(){this.props.setMinWidth&&window.removeEventListener(\"resize\",this._setMinWidth),clearTimeout(this.timer)}},{key:\"componentWillReceiveProps\",value:function(e){this.props.myMarketTab&&!e.myMarketTab&&this.refs.findSearchInput&&this.refs.findSearchInput.focus()}},{key:\"hideQuoteModal\",value:function(){this.setState({isQuoteModalVisible:!1})}},{key:\"showQuoteModal\",value:function(){this.setState({isQuoteModalVisible:!0})}},{key:\"_setMinWidth\",value:function(){this.props.setMinWidth&&this.refs.favorites&&\"my-market\"===this.props.activeTab&&this.state.minWidth!==this.refs.favorites.offsetWidth&&this.setState({minWidth:this.refs.favorites.offsetWidth})}},{key:\"componentDidUpdate\",value:function(){if(this.refs.favorites){var e=this.refs.favorites;c.a.update(e)}}},{key:\"_inverseSort\",value:function(){S.a.changeViewSetting({myMarketsInvert:!this.state.myMarketsInvert}),this.setState({inverseSort:!this.state.inverseSort})}},{key:\"_changeSort\",value:function(e){e!==this.state.sortBy?(S.a.changeViewSetting({myMarketsSort:e}),this.setState({sortBy:e})):this._inverseSort()}},{key:\"_goMarkets\",value:function(){this.props.history.push(\"/markets\")}},{key:\"_changeTab\",value:function(e){S.a.changeViewSetting({favMarketTab:e}),this.setState({activeTab:e}),this._setMinWidth()}},{key:\"_onInputName\",value:function(e,t){var n=this,a=t.target.value.trim().toUpperCase(),r=!z.ChainValidation.is_valid_symbol_error(a,!0);this.setState({inputValue:a}),a&&a.length>=2&&!r||(this.state.inputValue!==a&&this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){n._lookupAssets(a,e)}),1500))}},{key:\"_lookupAssets\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e||\"\"===e){var n=e.toUpperCase().split(\":\"),a=n[0],r=2===n.length?n[1]:null;this.setState({lookupQuote:a,lookupBase:r}),S.a.changeViewSetting.defer({marketLookupInput:e.toUpperCase()}),this.getAssetList(a,50,t)}}},{key:\"toggleActiveMarketTab\",value:function(e){S.a.changeViewSetting({activeMarketTab:e}),this.setState({activeMarketTab:e})}},{key:\"_onInputBaseAsset\",value:function(e){this.setState({findBaseInput:e.toUpperCase(),error:null})}},{key:\"_onFoundBaseAsset\",value:function(e){e&&this.setState({activeFindBase:e.get(\"symbol\")})}},{key:\"_getMarkets\",value:function(){var e=this.props,t=e.searchAssets,n=e.defaultMarkets,a=e.onlyStars,r=e.userMarkets,o=e.preferredBases,s=e.starredMarkets,l=this.state,c=l.activeTab,u=l.lookupQuote,p=l.lookupBase,m=l.myMarketFilter,f=l.activeMarketTab,h=Object(G.d)(o),d=this._getBases(),b=[],y={},g=[],v=\"my-market\"===c;t.size&&t.filter((function(e){try{if(e.options.description){var t=JSON.parse(e.options.description);if(\"visible\"in t&&!t.visible)return!1}}catch(e){}return-1!==e.symbol.indexOf(u)&&e.symbol.length>=u.length})).forEach((function(e){d.forEach((function(t){var n=e.symbol+\"_\"+t;t!==e.symbol&&b.push([n,{quote:e.symbol,base:t}])}))})),b=b.filter((function(e){return!p||e[1].quote===u}));var k=v?n:i.a.Map(b);function _(e,t,n,r,i){return{otherMarkets:n.filter((function(e){if(e.base===e.quote)return!1;if(v){var t=e.quote+\"_\"+e.base;return m?-1!==t.indexOf(m):!(a&&!s.has(t))}return!(u.length<1)&&-1!==e.quote.indexOf(u)})).map((function(n){var a=n.quote+\"_\"+n.base;if(-1!==t.indexOf(n.base)){r[e]||(r[e]=[]);var s={id:a,quote:n.quote,base:n.base};return r[e].find((function(e){return e.id===a}))||r[e].push(s),null}if(!o.includes(n.base)&&-1===h.indexOf(n.base))return{id:a,quote:n.quote,base:n.base}})).filter((function(e){return!!e})).take(v?100:20).toArray().concat(i),baseGroups:r}}if(v&&r.size&&r.forEach((function(e,t){k.has(t)||(k=k.set(t,e))})),k.size>0){var E=v?o.get(f):this.state.activeFindBase,w=_(E,[E],k,y,g);g=w.otherMarkets,y=w.baseGroups,G.c.forEach((function(e){var t=e+\".\"+E;if(z.ChainStore.getAsset(t)){var n=k.map((function(e){if(e.quote===e.base)return null;var n=e.quote+\"_\"+t;return k.has(n)?null:{base:t,quote:e.quote}}),{}).filter((function(e){return!!e})),a=_(E,[E,t],n,y,g);g=a.otherMarkets,y=a.baseGroups}}))}return{baseGroups:y,otherMarkets:g}}},{key:\"_getBases\",value:function(){var e=this.props,t=e.preferredBases,n=e.searchAssets,a=this.state,r=a.lookupQuote,o=a.lookupBase,s=n.filter((function(e){return o&&o.length?0===e.symbol.indexOf(o):-1!==e.symbol.indexOf(r)})).map((function(e){if(o&&o.length){if(0===e.symbol.indexOf(o))return e.symbol}else if(t.includes(e.symbol)&&e.symbol.length>=r.length&&e.symbol.length<r.length+3)return e.symbol})).filter((function(e){return!!e})).toArray();return s=(s=s.concat(t.filter((function(e){return!o||!o.length||0===e.indexOf(o)})).toArray())).filter((function(e){return!(o&&o.length>1)||0===e.indexOf(o)}))}},{key:\"render\",value:function(){var e=this,t=this.props,a=t.starredMarkets,r=t.marketStats,s=t.columns,i=t.assetsLoading,l=t.preferredBases,c=t.current,u=t.viewSettings,p=t.listHeight,h=this.state,d=h.activeMarketTab,b=\"my-market\"===h.activeTab,y=l.map((function(e){return e}));b||(l=(l=l.clear()).push(this.state.activeFindBase)),b||(d=0);var g=this._getMarkets(),v=g.baseGroups,k=g.otherMarkets,_=k&&k.length,E=\"mymarkets-header clickable\",w=q()(E,{inactive:!b}),O=q()(E,{inactive:b}),C={minWidth:this.state.minWidth,minHeight:\"6rem\"};p&&(C.height=p);var j=n(5);return o.a.createElement(\"div\",{className:this.props.className,style:this.props.style},this.props.tabHeader?o.a.createElement(\"div\",{style:this.props.headerStyle,className:\"grid-block shrink left-orderbook-header bottom-header\"},o.a.createElement(\"div\",{ref:\"myMarkets\",className:w,onClick:this._changeTab.bind(this,\"my-market\"),\"data-intro\":j.translate(\"walkthrough.my_markets_tab\")},o.a.createElement(m.a,{content:\"exchange.market_name\"})),o.a.createElement(\"div\",{className:O,onClick:this._changeTab.bind(this,\"find-market\"),\"data-intro\":j.translate(\"walkthrough.find_markets_tab\")},o.a.createElement(m.a,{content:\"exchange.more\"}))):null,this.props.noHeader||this.props.tabHeader?null:o.a.createElement(\"div\",{style:this.props.headerStyle},o.a.createElement(\"div\",{className:\"exchange-content-header\"},o.a.createElement(\"span\",null,o.a.createElement(m.a,{content:\"exchange.market_name\"})))),this.props.controls?o.a.createElement(\"div\",{className:\"small-12 medium-6\",style:{padding:\"1rem 0\"}},this.props.controls?o.a.createElement(\"div\",{style:{paddingBottom:\"0.5rem\"}},this.props.controls):null):null,b?o.a.createElement(\"div\",{className:\"grid-block vertical shrink\",style:{width:\"100%\",textAlign:\"left\",padding:\"0 0.5rem 0.75rem 0.5rem\"}},o.a.createElement(\"div\",null,o.a.createElement(\"label\",{style:{margin:\"3px 0 0\"}},o.a.createElement(\"input\",{style:{position:\"relative\",top:3},className:\"no-margin\",type:\"checkbox\",checked:this.props.onlyLiquid,onChange:function(){S.a.changeViewSetting({onlyLiquid:!e.props.onlyLiquid})}}),o.a.createElement(\"span\",{style:{paddingLeft:\"0.4rem\"}},o.a.createElement(m.a,{content:\"exchange.show_only_liquid\"}))),o.a.createElement(\"label\",{style:{margin:\"3px 0 0\"}},o.a.createElement(\"input\",{style:{position:\"relative\",top:3},className:\"no-margin\",type:\"checkbox\",checked:this.props.onlyStars,onChange:function(){x.a.toggleStars()}}),o.a.createElement(\"span\",{style:{paddingLeft:\"0.4rem\"}},o.a.createElement(f.a,{string:\"exchange.show_only_star_formatter\",keys:[{type:\"icon\",value:\"fi-star\",className:\"gold-star\",arg:\"star_icon\"}]}))),o.a.createElement(\"br\",null)),o.a.createElement(\"div\",{className:\"search-wrapper\"},o.a.createElement(\"form\",null,o.a.createElement(\"div\",{className:\"filter inline-block\"},o.a.createElement(J.a,{style:{fontSize:\"0.9rem\",height:\"inherit\",position:\"relative\"},className:\"no-margin market-filter-input\",value:this.state.myMarketFilter,onChange:this.handleSearchUpdate}))))):o.a.createElement(\"div\",{style:{width:\"100%\",textAlign:\"left\",padding:\"0.75rem 0.5rem\"}},o.a.createElement(\"table\",null,o.a.createElement(\"tbody\",null,o.a.createElement(\"tr\",{style:{width:\"100%\"}},o.a.createElement(\"td\",null,o.a.createElement(R.a,{onAssetSelect:this._onFoundBaseAsset.bind(this),assets:y,onChange:this._onInputBaseAsset.bind(this),asset:this.state.findBaseInput,assetInput:this.state.findBaseInput,tabIndex:1,style:{width:\"100%\",paddingBottom:\"1.5rem\"},onFound:this._onFoundBaseAsset.bind(this),label:\"exchange.quote\",noLabel:!0,inputStyle:{fontSize:\"0.9rem\"}}))),o.a.createElement(\"tr\",{style:{width:\"100%\"}},o.a.createElement(\"td\",null,o.a.createElement(\"label\",null,o.a.createElement(m.a,{content:\"account.user_issued_assets.name\"}),\":\"),o.a.createElement(\"input\",{style:{fontSize:\"0.9rem\",position:\"relative\",top:1},type:\"text\",value:this.state.inputValue,onChange:this._onInputName.bind(this,!0),placeholder:W.a.translate(\"exchange.search\"),maxLength:16,tabIndex:2,ref:\"findSearchInput\"}),this.state.assetNameError?o.a.createElement(\"div\",{className:\"error-area\",style:{paddingTop:10}},o.a.createElement(\"span\",{style:{wordBreak:\"break-all\"}},o.a.createElement(m.a,{content:\"explorer.asset.invalid\",name:this.state.inputValue}))):null))))),o.a.createElement(\"ul\",{className:\"mymarkets-tabs\",style:{marginBottom:0}},b&&o.a.createElement(\"li\",{key:\"quote_edit\",style:{textTransform:\"uppercase\"},onClick:this.showQuoteModal,className:\"mymarkets-tab\"},\"Â +Â \"),b||this.state.inputValue?l.map((function(t,n){return t?o.a.createElement(\"li\",{key:t,onClick:e.toggleActiveMarketTab.bind(e,n),className:q()(\"mymarkets-tab\",{active:d===n})},t):null})):null,b&&_?o.a.createElement(\"li\",{key:\"others\",style:{textTransform:\"uppercase\"},onClick:this.toggleActiveMarketTab.bind(this,l.size+1),className:q()(\"mymarkets-tab\",{active:d===l.size+1})},o.a.createElement(m.a,{content:\"exchange.others\"})):null),o.a.createElement(\"div\",{style:C,className:\"table-container grid-block vertical mymarkets-list\",ref:\"favorites\"},i?o.a.createElement(\"div\",{style:{position:\"absolute\",paddingTop:\"3rem\",textAlign:\"center\",width:\"100%\"}},o.a.createElement(U.a,{type:\"three-bounce\"})):null,l.filter((function(e){return e===l.get(d)})).map((function(t,n){return o.a.createElement(te,{userMarkets:e.props.userMarkets,defaultMarkets:e.props.defaultMarkets,index:n,allowChange:!1,key:t,current:c,starredMarkets:a,marketStats:r,viewSettings:u,columns:b?s:e.props.findColumns||s,markets:v[t],base:t,maxRows:b?20:10,findMarketTab:!b,location:e.props.location,history:e.props.history,onlyLiquid:e.props.onlyLiquid&&b})})),d===l.size+1&&b&&_?o.a.createElement(te,{userMarkets:this.props.userMarkets,index:l.size,current:c,starredMarkets:a,marketStats:r,viewSettings:u,columns:s,markets:k,base:\"others\",maxRows:b?20:10,findMarketTab:!b,location:this.props.location,history:this.props.history}):null),o.a.createElement(K,{visible:this.state.isQuoteModalVisible,hideModal:this.hideQuoteModal,showModal:this.showQuoteModal,quotes:this.props.preferredBases}))}}]),t}(o.a.Component);ne.defaultProps={activeTab:\"my-market\",setMinWidth:!1},ne=H()(ne,50,{leading:!1});var ae=function(e){function t(){return X(this,t),$(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ee(t,e),Z(t,[{key:\"render\",value:function(){return o.a.createElement(ne,this.props)}}]),t}(o.a.Component);t.a=Object(h.a)(ae,{listenTo:function(){return[A.a,M.a,B.a]},getProps:function(){return{starredMarkets:A.a.getState().starredMarkets,onlyLiquid:A.a.getState().viewSettings.get(\"onlyLiquid\",!0),defaultMarkets:A.a.getState().defaultMarkets,viewSettings:A.a.getState().viewSettings,preferredBases:A.a.getState().preferredBases,marketStats:M.a.getState().allMarketStats,userMarkets:A.a.getState().userMarkets,searchAssets:B.a.getState().assets,onlyStars:M.a.getState().onlyStars,assetsLoading:B.a.getState().assetsLoading}}})},2193:function(e,t,n){},2335:function(e,t,n){\"use strict\";n.r(t);var a=n(0),r=n.n(a),o=n(5),s=n.n(o),i=n(9),l=n.n(i),c=n(44),u=n(48),p=n(6),m=n(35),f=n(2),h=n.n(f),d=n(596),b=n(30),y=n(22),g=n(21),v=n(3),k=n.n(v),_=n(885),E=n(4),w=(n(283),n(2026)),O=n(16),x=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function S(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function C(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function j(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(2193);var T=function(e){function t(){return S(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,e),x(t,[{key:\"_onRowClick\",value:function(e){e.preventDefault(),this.props.history.push(\"/account/\"+this.props.witness.get(\"name\"))}},{key:\"render\",value:function(){var e=this.props,t=e.witness,n=e.isCurrent,a=e.rank,o=p.ChainStore.getWitnessById(this.props.witness.get(\"id\"));if(!o)return null;o.get(\"total_votes\");var s=o.get(\"last_aslot\"),i={};i=this.props.most_recent-s>100?{borderLeft:\"1px solid #FCAB53\"}:{borderLeft:\"1px solid #50D2C2\"};var l=new Date(Date.now()-(this.props.most_recent-s)*p.ChainStore.getObject(\"2.0.0\").getIn([\"parameters\",\"block_interval\"])*1e3),c=n?\"active-witness\":\"\",u=o.get(\"total_missed\"),f=k()(\"txtlabel\",{success:u<=500},{info:u>500&&u<=1250},{warning:u>1250&&u<=2e3},{error:u>=200});return r.a.createElement(\"tr\",{className:c,onClick:this._onRowClick.bind(this)},r.a.createElement(\"td\",null,a),r.a.createElement(\"td\",{style:i},t.get(\"name\")),r.a.createElement(\"td\",null,r.a.createElement(d.a,{time:new Date(l)})),r.a.createElement(\"td\",null,o.get(\"last_confirmed_block_num\")),r.a.createElement(\"td\",{className:f},u),r.a.createElement(\"td\",null,r.a.createElement(m.a,{amount:o.get(\"total_votes\"),asset:\"1.3.0\",decimalOffset:5})))}}]),t}(r.a.Component);T.propTypes={witness:c.a.ChainAccount.isRequired},T=Object(u.a)(T),T=Object(_.a)(T);var N=function(e){function t(){S(this,t);var e=C(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={sortBy:\"rank\",inverseSort:!0},e.handleBlockIdClick=e.handleBlockIdClick.bind(e),e}return j(t,e),x(t,[{key:\"_setSort\",value:function(e){this.setState({sortBy:e,inverseSort:e===this.state.sortBy?!this.state.inverseSort:this.state.inverseSort})}},{key:\"handleBlockIdClick\",value:function(e){var t=this;return function(){t.props.history.push(\"/block/\"+e)}}},{key:\"render\",value:function(){var e=this,t=this.props,n=t.witnesses,a=t.current,o=(t.cardView,t.witnessList),s=this.state,i=(s.sortBy,s.inverseSort,0),l={};n.filter((function(e){return!!e&&-1!==o.indexOf(e.get(\"id\"))})).sort((function(e,t){if(e&&t)return parseInt(t.get(\"total_votes\"),10)-parseInt(e.get(\"total_votes\"),10)})).forEach((function(e,t){if(e){var n=e.get(\"last_aslot\");i<n&&(i=n),l[e.get(\"id\")]=t+1}}));var c=[];n.length>0&&n[1]&&(c=n.filter((function(t){if(!t)return!1;var n=p.ChainStore.getObject(t.get(\"witness_account\"));if(!n)return!1;if(!p.ChainStore.getWitnessById(n.get(\"id\")))return!1;var a=n.get(\"name\");return!!a&&-1!==a.indexOf(e.props.filter)})).map((function(t){var n=p.ChainStore.getObject(t.get(\"witness_account\")),a=p.ChainStore.getWitnessById(n.get(\"id\")),r=a.get(\"last_aslot\"),o=new Date(Date.now()-(e.props.current_aslot-r)*p.ChainStore.getObject(\"2.0.0\").getIn([\"parameters\",\"block_interval\"])*1e3);return{id:t.get(\"id\"),key:n.get(\"name\"),rank:l[t.get(\"id\")],name:n.get(\"name\"),signing_key:a.get(\"signing_key\"),url:O.a.sanitize(a.get(\"url\")),lastConfirmedBlock:{id:a.get(\"last_confirmed_block_num\"),timestamp:o.getTime()},blocksMissed:a.get(\"total_missed\"),votes:a.get(\"total_votes\")}})));var u=[{key:\"#\",title:\"#\",dataIndex:\"rank\",sorter:function(e,t){return e.rank>t.rank?1:e.rank<t.rank?-1:0}},{key:\"name\",title:\"NAME\",dataIndex:\"name\",sorter:function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}},{key:\"url\",title:\"URL\",dataIndex:\"url\",align:\"center\",render:function(e){return r.a.createElement(\"div\",{style:{width:\"100%\",textAlign:\"center\"}},e&&function(e){return/(http|https):\\/\\/(\\w+:{0,1}\\w*)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%!\\-\\/]))?/.test(e)}(e)&&function(e){return r.a.createElement(E.Popover,{content:r.a.createElement(\"a\",{href:e,target:\"_blank\",rel:\"noopener noreferrer\"},e),trigger:\"hover\"},r.a.createElement(E.Icon,{type:\"link\"}))}(e)||null)}},{key:\"lastConfirmedBlock\",title:\"LAST CONFIRMED BLOCK\",dataIndex:\"lastConfirmedBlock\",render:function(t){return r.a.createElement(\"span\",null,r.a.createElement(\"a\",{style:{display:\"inline-block\",minWidth:\"100px\"},href:\"javascript:void(0)\",onClick:e.handleBlockIdClick(t.id)},\"#\",Number(t.id).toLocaleString()),\" \",r.a.createElement(d.a,{time:new Date(t.timestamp)}))},sorter:function(e,t){return e.lastConfirmedBlock.timestamp>t.lastConfirmedBlock.timestamp?-1:e.lastConfirmedBlock.timestamp<t.lastConfirmedBlock.timestamp?1:0}},{key:\"blocksMissed\",title:\"BLOCKS MISSED\",dataIndex:\"blocksMissed\",render:function(e){var t=k()(\"txtlabel\",{success:e<=500},{info:e>500&&e<=1250},{warning:e>1250&&e<=2e3},{error:e>=200});return r.a.createElement(\"span\",{className:t},e)},sorter:function(e,t){return e.blocksMissed>t.blocksMissed?1:e.blocksMissed<t.blocksMissed?-1:0}},{key:\"votes\",title:\"VOTES\",dataIndex:\"votes\",render:function(e){return r.a.createElement(m.a,{amount:e,asset:\"1.3.0\",decimalOffset:5})},sorter:function(e,t){return e.votes>t.votes?1:e.votes<t.votes?-1:0}},{key:\"key\",title:\"KEY\",dataIndex:\"signing_key\",align:\"center\",render:function(e){return r.a.createElement(\"div\",{style:{textAlign:\"center\",width:\"100%\"}},function(e){return r.a.createElement(E.Popover,{content:r.a.createElement(\"span\",null,e),trigger:\"hover\"},r.a.createElement(E.Icon,{type:\"key\"}))}(e))}}];return r.a.createElement(E.Table,{rowClassName:function(e){return e.id===a?\"active-witness\":\"\"},columns:u,dataSource:c,pagination:!1})}}]),t}(r.a.Component);N.propTypes={witnesses:c.a.ChainObjectsList.isRequired},N=Object(u.a)(N,{show_loader:!0}),N=Object(_.a)(N);var P=function(e){function t(e){S(this,t);var n=C(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={filterWitness:e.filterWitness||\"\",cardView:e.cardView},n}return j(t,e),x(t,[{key:\"_onFilter\",value:function(e){this.setState({filterWitness:e.target.value.toLowerCase()}),y.a.changeViewSetting({filterWitness:e.target.value.toLowerCase()})}},{key:\"_toggleView\",value:function(){y.a.changeViewSetting({cardView:!this.state.cardView}),this.setState({cardView:!this.state.cardView})}},{key:\"render\",value:function(){var e=this.props,t=e.dynGlobalObject,n=e.globalObject;t=t.toJS(),n=n.toJS();var a=p.ChainStore.getObject(t.current_witness),o=null;return a&&(o=p.ChainStore.getObject(a.get(\"witness_account\"))),r.a.createElement(\"div\",{className:\"grid-block\"},r.a.createElement(\"div\",{className:\"grid-block\"},r.a.createElement(\"div\",{className:\"grid-block\"},r.a.createElement(\"div\",{className:\"grid-content \"},r.a.createElement(\"div\",{className:\"explore-witness--info\"},r.a.createElement(\"table\",null,r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"th\",null,r.a.createElement(h.a,{content:\"explorer.witnesses.current\"})),r.a.createElement(\"th\",null,r.a.createElement(h.a,{content:\"explorer.blocks.active_witnesses\"})),r.a.createElement(\"th\",null,r.a.createElement(h.a,{content:\"explorer.witnesses.participation\"})),r.a.createElement(\"th\",null,r.a.createElement(h.a,{content:\"explorer.witnesses.pay\"})),r.a.createElement(\"th\",null,r.a.createElement(h.a,{content:\"explorer.witnesses.budget\"})),r.a.createElement(\"th\",null,r.a.createElement(h.a,{content:\"explorer.witnesses.next_vote\"})))),r.a.createElement(\"tbody\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,o?o.get(\"name\"):null),r.a.createElement(\"td\",null,Object.keys(n.active_witnesses).length),r.a.createElement(\"td\",null,t.participation,\"%\"),r.a.createElement(\"td\",null,r.a.createElement(m.a,{amount:n.parameters.witness_pay_per_block,asset:\"1.3.0\"})),r.a.createElement(\"td\",null,\" \",r.a.createElement(m.a,{amount:t.witness_budget,asset:\"1.3.0\"})),r.a.createElement(\"td\",null,\" \",r.a.createElement(d.a,{time:new Date(t.next_maintenance_time+\"Z\")})))))),r.a.createElement(w.a,{placeholder:s.a.translate(\"explorer.witnesses.filter_by_name\"),value:this.state.filterWitness,onChange:this._onFilter.bind(this),style:{width:\"200px\",marginBottom:\"12px\",marginTop:\"4px\"}}),r.a.createElement(N,{current_aslot:t.current_aslot,current:a?a.get(\"id\"):null,witnesses:l.a.List(n.active_witnesses),witnessList:n.active_witnesses,filter:this.state.filterWitness,cardView:this.state.cardView})))))}}]),t}(r.a.Component);P.propTypes={globalObject:c.a.ChainObject.isRequired,dynGlobalObject:c.a.ChainObject.isRequired},P.defaultProps={globalObject:\"2.0.0\",dynGlobalObject:\"2.1.0\"},P=Object(u.a)(P);var A=function(e){function t(){return S(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return j(t,e),x(t,[{key:\"render\",value:function(){return r.a.createElement(P,this.props)}}]),t}(r.a.Component),M=A=Object(b.a)(A,{listenTo:function(){return[g.a]},getProps:function(){return{cardView:g.a.getState().viewSettings.get(\"cardView\"),filterWitness:g.a.getState().viewSettings.get(\"filterWitness\")}}}),B=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function I(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function L(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function D(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var q=function(e){function t(){return I(this,t),L(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return D(t,e),B(t,[{key:\"render\",value:function(){var e=this,t=this.props,n=t.committee_members,a=t.membersList,o=null,s={};n.filter((function(e){return!!e&&-1!==a.indexOf(e.get(\"id\"))})).forEach((function(e,t){e&&(s[e.get(\"id\")]=t+1)})),n.length>0&&n[1]&&(o=n.filter((function(t){if(!t)return!1;var n=p.ChainStore.getObject(t.get(\"committee_member_account\"));return!!n&&(!!p.ChainStore.getCommitteeMemberById(n.get(\"id\"))&&-1!==n.get(\"name\").indexOf(e.props.filter||\"\"))})).map((function(e){var t=p.ChainStore.getObject(e.get(\"committee_member_account\")),n=p.ChainStore.getCommitteeMemberById(t.get(\"id\"));return{key:e.get(\"id\"),rank:s[e.get(\"id\")],name:t.get(\"name\"),votes:n.get(\"total_votes\"),url:O.a.sanitize(n.get(\"url\"))}})));var i=[{key:\"#\",title:\"#\",dataIndex:\"rank\",sorter:function(e,t){return e.rank>t.rank?1:e.rank<t.rank?-1:0}},{key:\"name\",title:\"NAME\",dataIndex:\"name\",sorter:function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}},{key:\"votes\",title:\"VOTES\",dataIndex:\"votes\",render:function(e){return r.a.createElement(m.a,{amount:e,asset:\"1.3.0\",decimalOffset:5})},sorter:function(e,t){return e.votes>t.votes?1:e.votes<t.votes?-1:0}},{key:\"url\",title:\"WEBPAGE\",dataIndex:\"url\",render:function(e){return r.a.createElement(\"a\",{href:e,target:\"_blank\",rel:\"noopener noreferrer\"},e)}}];return r.a.createElement(E.Table,{columns:i,dataSource:o,pagination:!1})}}]),t}(r.a.Component);q.propTypes={committee_members:c.a.ChainObjectsList.isRequired},q=Object(u.a)(q,{show_loader:!0});var R=function(e){function t(e){I(this,t);var n=L(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={filterCommitteeMember:e.filterCommitteeMember||\"\"},n}return D(t,e),B(t,[{key:\"shouldComponentUpdate\",value:function(e,t){return!l.a.is(e.globalObject,this.props.globalObject)||t.filterCommitteeMember!==this.state.filterCommitteeMember||t.cardView!==this.state.cardView}},{key:\"_onFilter\",value:function(e){this.setState({filterCommitteeMember:e.target.value.toLowerCase()}),y.a.changeViewSetting({filterCommitteeMember:e.target.value.toLowerCase()})}},{key:\"render\",value:function(){var e=this.props.globalObject;e=e.toJS();var t=[];for(var n in e.active_committee_members)e.active_committee_members.hasOwnProperty(n)&&t.push(e.active_committee_members[n]);return r.a.createElement(\"div\",{className:\"grid-block\"},r.a.createElement(\"div\",{className:\"grid-block vertical medium-horizontal\"},r.a.createElement(\"div\",{className:\"grid-block vertical\"},r.a.createElement(\"div\",{className:\"grid-content\"},r.a.createElement(w.a,{placeholder:s.a.translate(\"explorer.witnesses.filter_by_name\"),value:this.state.filterCommitteeMember,onChange:this._onFilter.bind(this),style:{width:\"200px\",marginBottom:\"12px\",marginTop:\"4px\"}}),r.a.createElement(q,{filter:this.state.filterCommitteeMember,committee_members:l.a.List(e.active_committee_members),membersList:e.active_committee_members})))))}}]),t}(r.a.Component);R.propTypes={globalObject:c.a.ChainObject.isRequired},R.defaultProps={globalObject:\"2.0.0\"},R=Object(u.a)(R);var F=function(e){function t(){return I(this,t),L(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return D(t,e),B(t,[{key:\"render\",value:function(){return r.a.createElement(R,this.props)}}]),t}(r.a.Component),W=F=Object(b.a)(F,{listenTo:function(){return[g.a]},getProps:function(){return{cardView:g.a.getState().viewSettings.get(\"cardViewCommittee\"),filterCommitteeMember:g.a.getState().viewSettings.get(\"filterCommitteeMember\")}}}),U=n(119),z=n(592),V=n(2047),H=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function G(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function Q(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function K(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var J=p.ChainTypes.operations,Y=Object.keys(J),Z={general:[0,25,26,27,28,32,33,37,39,41,49,50,52],asset:[10,11,12,13,14,15,16,17,18,19,38,43,44,47,48],market:[1,2,3,4,45,46],account:[5,6,7,8,9],business:[20,21,22,23,24,29,30,31,34,35,36]},X=[5,7,20,21,34],$=function(e){function t(e){return G(this,t),Q(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return K(t,e),H(t,[{key:\"shouldComponentUpdate\",value:function(e){return!l.a.is(e.globalObject,this.props.globalObject)}},{key:\"render\",value:function(){var e=this.props,t=e.globalObject,n=e.settings,a=e.opIds;e.title;t=t.toJSON();var o=p.ChainStore.getAsset(\"1.3.0\"),i=t.parameters.current_fees,l=t.parameters.network_percent_of_fee/1e4,c=i.scale,u=i.parameters,f=n.get(\"fee_asset\")||o.get(\"symbol\"),d=s.a.translate(\"transaction.trxTypes\"),b=a.map((function(e){var t=u.findIndex((function(t){return t[0]===e}));if(-1!==t){var n=u[t],a=n[0],o=n[1],i=Y[a],p=d[i],h=l;10===a&&(h=.5+.5*l);var b=[],y=!1,g=k()(\"label\",\"info\");for(var v in o){var _=o[v]*c/1e4,E=_*h,w=s.a.translate(\"transaction.feeTypes\"),O=_?r.a.createElement(m.a,{amount:_,asset:\"1.3.0\"}):w._none,x=_?r.a.createElement(V.b,{fromAsset:\"1.3.0\",fullPrecision:!0,amount:_,toAsset:f,fullDecimals:!0}):w._none,S=E?r.a.createElement(m.a,{amount:E,asset:\"1.3.0\"}):w._none,C=E?r.a.createElement(V.b,{fromAsset:\"1.3.0\",fullPrecision:!0,amount:E,toAsset:f,fullDecimals:!0}):w._none,j=null;y||(y=!0,j=r.a.createElement(\"td\",{rowSpan:\"6\",style:{width:\"15em\"}},r.a.createElement(\"span\",{className:g},p))),X.indexOf(a)<0?\"Annual Membership\"!=w[v]&&b.push(r.a.createElement(\"tr\",{key:a.toString()+v},j,r.a.createElement(\"td\",null,w[v]),r.a.createElement(\"td\",{style:{textAlign:\"right\"}},O,0!==_&&\"BTS\"!==f?r.a.createElement(\"span\",null,\"Â /Â \",x):null),r.a.createElement(\"td\",{style:{textAlign:\"right\"}},8!==t?S:null,8!==t&&0!==_&&\"BTS\"!==f?r.a.createElement(\"span\",null,\"Â /Â \",C):null))):b.push(r.a.createElement(\"tr\",{key:a.toString()+v},j,r.a.createElement(\"td\",null,w[v]),r.a.createElement(\"td\",{style:{textAlign:\"right\"}},\"- \",r.a.createElement(\"sup\",null,\"*\")),r.a.createElement(\"td\",{style:{textAlign:\"right\"}},S,0!==_&&\"BTS\"!==f?r.a.createElement(\"span\",null,\"Â /Â \",C):null)))}return r.a.createElement(\"tbody\",{key:t},b)}console.warn(\"Asking for non-existing fee id %d! Check group settings in Fees.jsx\",e)}));return r.a.createElement(\"div\",{className:\"asset-card\"},r.a.createElement(E.Card,null,this.props.title.toUpperCase()),r.a.createElement(\"table\",{className:\"table\"},r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"th\",null,r.a.createElement(h.a,{content:\"explorer.block.op\"})),r.a.createElement(\"th\",null,r.a.createElement(h.a,{content:\"explorer.fees.type\"})),r.a.createElement(\"th\",{style:{textAlign:\"right\"}},r.a.createElement(h.a,{content:\"explorer.fees.fee\"})),r.a.createElement(\"th\",{style:{textAlign:\"right\"}},r.a.createElement(h.a,{content:\"explorer.fees.feeltm\"})))),b))}}]),t}(r.a.Component);$.propTypes={globalObject:c.a.ChainObject.isRequired},$.defaultProps={globalObject:\"2.0.0\"},$=Object(u.a)($);var ee=function(e){function t(){return G(this,t),Q(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return K(t,e),H(t,[{key:\"render\",value:function(){var e=s.a.translate(\"transaction.feeGroups\"),t=[];for(var n in Z){var a=e[n],o=Z[n];t.push(r.a.createElement($,{key:n,settings:this.props.settings,opIds:o,title:a}))}return r.a.createElement(\"div\",{className:\"grid-block vertical\",style:{overflow:\"visible\"}},r.a.createElement(\"div\",{className:\"grid-block small-12 shrink\",style:{overflow:\"visible\"}},r.a.createElement(z.a,{path:\"components/Fees\"})),r.a.createElement(\"div\",{className:\"grid-block small-12 \",style:{overflow:\"visible\"}},r.a.createElement(\"div\",{className:\"grid-content\"},t)))}}]),t}(r.a.Component),te=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function ne(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function ae(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var re=function(e){function t(){return ne(this,t),ae(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),te(t,[{key:\"render\",value:function(){return r.a.createElement(U.a,{stores:[g.a],inject:{settings:g.a.getState().settings}},r.a.createElement(ee,this.props))}}]),t}(r.a.Component),oe=n(154),se=n(102),ie=n(267),le=n(113),ce=n(604),ue=n(2077),pe=n(127),me=n(2065),fe=n.n(me),he=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function de(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function be(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var ye=function(e){function t(){return de(this,t),be(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),he(t,[{key:\"shouldComponentUpdate\",value:function(e){if(e.blocks.size<20)return!1;var t=this.refs.trx_chart?this.refs.trx_chart.chart:null;if(t&&e.blocks!==this.props.blocks){var n=this._getData(e),a=n.trxData,r=n.colors,o=t.series[0],s=o.xData[o.xData.length-1];if(o.xData.length)return a.forEach((function(e){e[0]>s&&o.addPoint(e,!1,o.xData.length>=30)})),t.options.plotOptions.column.colors=r,t.redraw(),!1}return e.blocks!==this.props.blocks||e.head_block!==this.props.head_block}},{key:\"_getData\",value:function(e){var t=e.blocks,n=e.head_block,a=[],r=0;return{colors:(a=t.filter((function(e){return e.id>=n-30})).sort((function(e,t){return e.id-t.id})).takeLast(30).map((function(e){return r=Math.max(e.transactions.length,r),[e.id,e.transactions.length]})).toArray()).map((function(e){return e[1]<=5?\"#50D2C2\":e[1]<=10?\"#A0D3E8\":e[1]<=20?\"#FCAB53\":\"#deb869\"})),trxData:a,max:r}}},{key:\"render\",value:function(){var e=this._getData(this.props),t=e.trxData,n=e.colors,a=e.max,o=s.a.translate(\"explorer.blocks.transactions\"),i={chart:{type:\"column\",backgroundColor:\"rgba(255, 0, 0, 0)\",spacing:[0,0,5,0],height:100},title:{text:null},credits:{enabled:!1},legend:{enabled:!1},rangeSelector:{enabled:!1},navigator:{enabled:!1},scrollbar:{enabled:!1},tooltip:{shared:!1,formatter:function(){return o+\": \"+this.y}},series:[{name:\"Transactions\",data:t,color:\"#50D2C2\"}],xAxis:{labels:{enabled:!1},title:{text:null}},yAxis:{min:0,max:Math.max(1.5,a+.5),title:{text:null},labels:{enabled:!1},gridLineWidth:0,currentPriceIndicator:{enabled:!1}},plotOptions:{column:{animation:!0,minPointLength:5,colorByPoint:!0,colors:n,borderWidth:0}}};return t.length?r.a.createElement(fe.a,{ref:\"trx_chart\",config:i}):null}}]),t}(r.a.Component),ge=n(776),ve=n(579);var ke=function(e,t,n){var a=null==e?0:e.length;return a?(t=a-(t=n||void 0===t?1:Object(ve.a)(t)),Object(ge.a)(e,t<0?0:t,a)):[]},_e=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Ee(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function we(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var Oe=function(e){function t(){return Ee(this,t),we(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),_e(t,[{key:\"shouldComponentUpdate\",value:function(e){if(e.blockTimes.length<19)return!1;if(0===this.props.blockTimes.length)return!0;var t=this.refs.chart?this.refs.chart.chart:null;if(t){var n=this._getData(e),a=n.blockTimes,r=n.colors,o=t.series[0],s=o.xData[o.xData.length-1];if(o.xData.length)return a.forEach((function(e){e[0]>s&&o.addPoint(e,!1,o.xData.length>=30)})),t.options.plotOptions.column.colors=r,t.redraw(),!1}return e.blockTimes[e.blockTimes.length-1][0]!==this.props.blockTimes[this.props.blockTimes.length-1][0]||e.blockTimes.length!==this.props.blockTimes.length}},{key:\"_getData\",value:function(){var e=this.props,t=e.blockTimes,n=e.head_block;t.filter((function(e){return e[0]>=n-30})),t&&t.length&&(t=ke(t,30));var a=t.map((function(e){return e[1]<=5?\"#50D2C2\":e[1]<=10?\"#A0D3E8\":e[1]<=20?\"#FCAB53\":\"#deb869\"}));return{blockTimes:t,colors:a}}},{key:\"render\",value:function(){var e=this._getData(this.props),t=e.blockTimes,n=e.colors,a=s.a.translate(\"explorer.blocks.block_time\"),o={chart:{type:\"column\",backgroundColor:\"rgba(255, 0, 0, 0)\",spacing:[0,0,5,0],height:100},title:{text:null},credits:{enabled:!1},legend:{enabled:!1},rangeSelector:{enabled:!1},navigator:{enabled:!1},scrollbar:{enabled:!1},tooltip:{shared:!1,formatter:function(){return a+\": \"+this.y+\"s\"}},series:[{name:\"Block time\",data:t,color:\"#50D2C2\"}],xAxis:{labels:{enabled:!1},title:{text:null}},yAxis:{min:0,title:{text:null},labels:{enabled:!1},gridLineWidth:0,currentPriceIndicator:{enabled:!1}},plotOptions:{column:{animation:!0,minPointLength:3,colorByPoint:!0,colors:n,borderWidth:0}}};return t.length?r.a.createElement(fe.a,{ref:\"chart\",config:o}):null}}]),t}(r.a.Component),xe=n(2040),Se=n.n(xe),Ce=n(2046),je=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Te(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function Ne(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function Pe(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(891);var Ae=function(e){function t(){return Te(this,t),Ne(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Pe(t,e),je(t,[{key:\"shouldComponentUpdate\",value:function(e){return e.blockTime!==this.props.blockTime}},{key:\"render\",value:function(){var e=this.props.blockTime,t=(new Date).getTime()-new Date(e).getTime(),n=k()(\"txtlabel\",{success:t<=6e3},{info:t>6e3&&t<=15e3},{warning:t>15e3&&t<=25e3},{error:t>25e3});return e?r.a.createElement(\"h3\",{className:n},r.a.createElement(d.a,{time:e})):null}}]),t}(r.a.Component),Me=function(e){function t(e){Te(this,t);var n=Ne(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={animateEnter:!1,operationsHeight:null,blocksHeight:null},n._updateHeight=n._updateHeight.bind(n),n}return Pe(t,e),je(t,[{key:\"_getBlock\",value:function(e,t){e&&(e=parseInt(e,10),ie.a.getLatest(e,t))}},{key:\"componentWillMount\",value:function(){window.addEventListener(\"resize\",this._updateHeight,{capture:!1,passive:!0})}},{key:\"componentWillUnmount\",value:function(){window.removeEventListener(\"resize\",this._updateHeight)}},{key:\"componentWillReceiveProps\",value:function(e){if(0===e.latestBlocks.size)return this._getInitialBlocks();this.state.animateEnter||this.setState({animateEnter:!0});var t=e.dynGlobalObject.get(\"head_block_number\");return e.latestBlocks.size>=20&&e.dynGlobalObject.get(\"head_block_number\")!==e.latestBlocks.get(0).id?this._getBlock(t,t):void 0}},{key:\"componentDidMount\",value:function(){this._getInitialBlocks();var e=this.refs.operations;Se.a.initialize(e);var t=this.refs.blocks;Se.a.initialize(t),this._updateHeight()}},{key:\"shouldComponentUpdate\",value:function(e,t){return!l.a.is(e.latestBlocks,this.props.latestBlocks)||!O.a.are_equal_shallow(t,this.state)}},{key:\"componentDidUpdate\",value:function(){this._updateHeight()}},{key:\"_getInitialBlocks\",value:function(){var e=parseInt(this.props.dynGlobalObject.get(\"head_block_number\"),10);if(e)for(var t=19;t>=0;t--){var n=!1;if(this.props.latestBlocks.size>0)for(var a=0;a<this.props.latestBlocks.size;a++)if(this.props.latestBlocks.get(a).id===e-t){n=!0;break}n||this._getBlock(e-t,e)}}},{key:\"_updateHeight\",value:function(){var e=this.refs.outerWrapper.offsetHeight,t=this.refs.operationsText.offsetHeight,n=this.refs.blocksText.offsetHeight;this.setState({operationsHeight:e-t,blocksHeight:e-n},this.psUpdate)}},{key:\"psUpdate\",value:function(){var e=this.refs.operations;Se.a.update(e);var t=this.refs.blocks;Se.a.update(t)}},{key:\"render\",value:function(){var e=this.props,t=e.latestBlocks,n=e.latestTransactions,a=e.globalObject,o=e.dynGlobalObject,s=e.coreAsset,i=this.state,l=i.blocksHeight,c=i.operationsHeight,u=this.props.getDynamicObject(s.get(\"dynamic_asset_data_id\")),p=null,f=null,d=null,b=0,y=t.size,g=0,v=[],k=0;if(t&&t.size>=20){var _=void 0,E=void 0,w=void 0;t.filter((function(e,t){return e.id===o.get(\"head_block_number\")-t})).sort((function(e,t){return e.id-t.id})).forEach((function(e,t){b+=e.transactions.length,t>0?(v.push([e.id,(e.timestamp-_)/1e3]),E=e.timestamp):w=e.timestamp,_=e.timestamp})),p=t.sort((function(e,t){return t.id-e.id})).take(20).map((function(e){return r.a.createElement(\"tr\",{key:e.id},r.a.createElement(\"td\",null,r.a.createElement(se.a,{to:\"/block/\"+e.id},\"#\",O.a.format_number(e.id,0))),r.a.createElement(\"td\",null,r.a.createElement(le.a,{value:e.timestamp,format:\"time\"})),r.a.createElement(\"td\",null,r.a.createElement(ue.a,{witness:e.witness})),r.a.createElement(\"td\",null,O.a.format_number(e.transactions.length,0)))})).toArray();var x=0;f=n.sort((function(e,t){return t.block_num-e.block_num})).take(20).map((function(e){var t=0;return e.operations.map((function(n){return x>15?null:r.a.createElement(ce.a,{key:x++,op:n,result:e.operation_results[t++],block:e.block_num,hideFee:!0,hideOpLabel:!1,current:\"1.2.0\",hideDate:!0,hidePending:!0})})).filter((function(e){return!!e}))})).toArray(),d=t.first().timestamp,k=v.reduce((function(e,t,n,a){return e+t[1]/a.length}),0),g=b/((E-w)/1e3)}return r.a.createElement(\"div\",{ref:\"outerWrapper\",className:\"grid-block vertical\"},r.a.createElement(\"div\",{className:\"align-center grid-block shrink small-horizontal blocks-row\"},r.a.createElement(\"div\",{className:\"grid-block text-center small-6 medium-3\"},r.a.createElement(\"div\",{className:\"grid-content no-overflow\"},r.a.createElement(\"span\",{className:\"txtlabel\"},r.a.createElement(h.a,{component:\"span\",content:\"explorer.blocks.current_block\"})),r.a.createElement(\"h2\",null,\"#\",O.a.format_number(o.get(\"head_block_number\"),0)))),r.a.createElement(\"div\",{className:\"grid-block text-center small-6 medium-3\"},r.a.createElement(\"div\",{className:\"grid-content no-overflow\"},r.a.createElement(\"span\",{className:\"txtlabel\"},r.a.createElement(h.a,{component:\"span\",content:\"explorer.blocks.last_block\"})),r.a.createElement(Ae,{blockTime:d}))),r.a.createElement(\"div\",{className:\"grid-block text-center small-6 medium-3\"},r.a.createElement(\"div\",{className:\"grid-content no-overflow\"},r.a.createElement(\"span\",{className:\"txtlabel\"},r.a.createElement(h.a,{component:\"span\",content:\"explorer.blocks.trx_per_sec\"})),r.a.createElement(\"h2\",null,O.a.format_number(g,2)))),r.a.createElement(\"div\",{className:\"grid-block text-center small-6 medium-3\"},r.a.createElement(\"div\",{className:\"grid-content no-overflow\"},r.a.createElement(\"span\",{className:\"txtlabel\"},r.a.createElement(h.a,{component:\"span\",content:\"explorer.blocks.avg_conf_time\"})),r.a.createElement(\"h2\",null,O.a.format_number(k/2,2),\"s\")))),r.a.createElement(\"div\",{className:\"align-center grid-block shrink small-horizontal  blocks-row\"},r.a.createElement(\"div\",{className:\"grid-block text-center small-6 medium-3\"},r.a.createElement(\"div\",{className:\"grid-content no-overflow clear-fix\"},r.a.createElement(\"span\",{className:\"txtlabel\"},r.a.createElement(h.a,{component:\"span\",content:\"explorer.blocks.active_witnesses\"})),r.a.createElement(\"h2\",{className:\"txtlabel success\"},a.get(\"active_witnesses\").size))),r.a.createElement(\"div\",{className:\"grid-block text-center small-6 medium-3\"},r.a.createElement(\"div\",{className:\"grid-content no-overflow clear-fix\"},r.a.createElement(\"span\",{className:\"txtlabel\"},r.a.createElement(h.a,{component:\"span\",content:\"explorer.blocks.active_committee_members\"})),r.a.createElement(\"h2\",{className:\"txtlabel success\"},a.get(\"active_committee_members\").size))),r.a.createElement(\"div\",{className:\"grid-block text-center small-6 medium-3\"},r.a.createElement(\"div\",{className:\"grid-content no-overflow clear-fix\"},r.a.createElement(\"span\",{className:\"txtlabel\"},r.a.createElement(h.a,{component:\"span\",content:\"explorer.blocks.trx_per_block\"})),r.a.createElement(\"h2\",null,O.a.format_number(b/y||0,2)))),r.a.createElement(\"div\",{className:\"grid-block text-center small-6 medium-3\"},r.a.createElement(\"div\",{className:\"grid-content no-overflow clear-fix\"},r.a.createElement(\"span\",{className:\"txtlabel\"},r.a.createElement(h.a,{component:\"span\",content:\"explorer.blocks.recently_missed_blocks\"})),r.a.createElement(\"h2\",{className:\"txtlabel warning\",style:{fontWeight:\"100\"}},o.get(\"recently_missed_count\"))))),r.a.createElement(\"div\",{className:\"align-center grid-block shrink small-vertical medium-horizontal blocks-row\"},r.a.createElement(\"div\",{className:\"grid-block text-center small-12 medium-3\"},r.a.createElement(\"div\",{className:\"grid-content no-overflow clear-fix\"},r.a.createElement(\"span\",{className:\"txtlabel\"},r.a.createElement(h.a,{component:\"span\",content:\"explorer.asset.summary.current_supply\"})),r.a.createElement(\"h3\",{className:\"txtlabel\"},u?r.a.createElement(m.a,{amount:u.get(\"current_supply\"),asset:s.get(\"id\"),decimalOffset:5}):null))),r.a.createElement(\"div\",{className:\"grid-block text-center small-12 medium-3\"},r.a.createElement(\"div\",{className:\"grid-content no-overflow\"},r.a.createElement(\"div\",{className:\"txtlabel\"},r.a.createElement(h.a,{component:\"span\",content:\"explorer.blocks.block_times\"})),r.a.createElement(Oe,{blockTimes:v,head_block_number:o.get(\"head_block_number\")}))),r.a.createElement(\"div\",{className:\"grid-block text-center small-12 medium-3\"},r.a.createElement(\"div\",{className:\"grid-content no-overflow\"},r.a.createElement(\"div\",{className:\"txtlabel\"},r.a.createElement(h.a,{component:\"span\",content:\"explorer.blocks.trx_per_block\"})),r.a.createElement(ye,{blocks:t,head_block:o.get(\"head_block_number\")}))),r.a.createElement(\"div\",{className:\"grid-block text-center small-12 medium-3\"},r.a.createElement(\"div\",{className:\"grid-content no-overflow clear-fix\"},r.a.createElement(\"span\",{className:\"txtlabel\"},r.a.createElement(h.a,{component:\"span\",content:\"explorer.asset.summary.stealth_supply\"})),r.a.createElement(\"h3\",{className:\"txtlabel\"},u?r.a.createElement(m.a,{amount:u.get(\"confidential_supply\"),asset:s.get(\"id\"),decimalOffset:5}):null)))),r.a.createElement(\"div\",{ref:\"transactionsBlock\",className:\"grid-block no-overflow\"},r.a.createElement(\"div\",{className:\"grid-block small-12 medium-6 vertical no-overflow\",style:{paddingBottom:0}},r.a.createElement(\"div\",{className:\"grid-block vertical no-overflow generic-bordered-box\"},r.a.createElement(\"div\",{ref:\"operationsText\"},r.a.createElement(\"div\",{className:\"block-content-header\"},r.a.createElement(h.a,{content:\"account.recent\"})),r.a.createElement(\"table\",{className:\"table fixed-height-2rem\"},r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"th\",null,r.a.createElement(h.a,{content:\"account.votes.info\"})))))),r.a.createElement(\"div\",{className:\"grid-block\",style:{maxHeight:c||\"400px\",overflow:\"hidden\"},ref:\"operations\"},r.a.createElement(\"table\",{className:\"table fixed-height-2rem\"},r.a.createElement(\"tbody\",null,f))))),r.a.createElement(\"div\",{className:\"grid-block medium-6 show-for-medium vertical no-overflow\",style:{paddingBottom:0,paddingLeft:5}},r.a.createElement(\"div\",{className:\"grid-block vertical no-overflow generic-bordered-box\"},r.a.createElement(\"div\",{ref:\"blocksText\"},r.a.createElement(\"div\",{className:\"block-content-header\"},r.a.createElement(h.a,{component:\"span\",content:\"explorer.blocks.recent\"}))),r.a.createElement(\"div\",{className:\"grid-block vertical\",style:{maxHeight:l||\"438px\",overflow:\"hidden\"},ref:\"blocks\"},r.a.createElement(\"table\",{className:\"table fixed-height-2rem\"},r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"th\",null,r.a.createElement(h.a,{component:\"span\",content:\"explorer.block.id\"})),r.a.createElement(\"th\",null,r.a.createElement(h.a,{component:\"span\",content:\"explorer.block.date\"})),r.a.createElement(\"th\",null,r.a.createElement(h.a,{component:\"span\",content:\"explorer.block.witness\"})),r.a.createElement(\"th\",null,r.a.createElement(h.a,{component:\"span\",content:\"explorer.block.count\"})))),r.a.createElement(Ce.a,{component:\"tbody\",transitionName:\"newrow\"},p)))))))}}]),t}(r.a.Component);Me.propTypes={globalObject:c.a.ChainObject.isRequired,dynGlobalObject:c.a.ChainObject.isRequired},Me.defaultProps={globalObject:\"2.0.0\",dynGlobalObject:\"2.1.0\",latestBlocks:{},assets:{},accounts:{},height:1},Me=Object(u.a)(Me,{show_loader:!0});var Be=Me=Object(pe.a)(Me,{propNames:[\"coreAsset\"],withDynamic:!0}),Ie=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Le(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function De(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var qe=function(e){function t(){return Le(this,t),De(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ie(t,[{key:\"render\",value:function(){return r.a.createElement(U.a,{stores:[oe.a],inject:{latestBlocks:function(){return oe.a.getState().latestBlocks},latestTransactions:function(){return oe.a.getState().latestTransactions}}},r.a.createElement(Be,null))}}]),t}(r.a.Component),Re=n(594),Fe=n(1),We=n.n(Fe),Ue=n(472),ze=n(128),Ve=n(112),He=n(97),Ge=n(57),Qe=n(15),Ke=n(829),Je=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Ye=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xe=new Ge.a(\"__graphene__\"),$e=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),a=Qe.Apis.instance().chain_id;return a=a?a.substr(0,8):\"4018d784\",n.state={chainID:a,foundLast:!1,lastAsset:\"\",isLoading:!1,totalAssets:\"object\"!=Je(Xe.get(\"totalAssets_\"+a))?Xe.get(\"totalAssets_\"+a):a&&\"4018d784\"===a?3e3:50,assetsFetched:0,activeFilter:\"market\",filterSearch:e.filterSearch||\"\",rowsOnPage:\"25\"},n._toggleFilter=n._toggleFilter.bind(n),n.handleRowsChange=n.handleRowsChange.bind(n),n.handleFilterChange=n.handleFilterChange.bind(n),n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ye(t,[{key:\"shouldComponentUpdate\",value:function(e,t){return!l.a.is(e.assets,this.props.assets)||!O.a.are_equal_shallow(t,this.state)}},{key:\"componentWillMount\",value:function(){this._checkAssets(this.props.assets,!0)}},{key:\"handleFilterChange\",value:function(e){this.setState({filterSearch:(e.target.value||\"\").toUpperCase()})}},{key:\"handleRowsChange\",value:function(e){this.setState({rowsOnPage:e})}},{key:\"_checkAssets\",value:function(e,t){this.setState({isLoading:!0});var n=e.sort((function(e,t){return e.symbol>t.symbol?1:e.symbol<t.symbol?-1:0})).last();0===e.size||t?(Ue.a.getAssetList.defer(\"A\",100),this.setState({assetsFetched:100})):e.size>=this.state.assetsFetched&&(Ue.a.getAssetList.defer(n.symbol,100),this.setState({assetsFetched:this.state.assetsFetched+99})),e.size>this.state.totalAssets&&Xe.set(\"totalAssets_\"+this.state.chainID,e.size),this.state.assetsFetched>=this.state.totalAssets-100&&this.setState({isLoading:!1})}},{key:\"componentWillReceiveProps\",value:function(e){e.assets!==this.props.assets&&this._checkAssets(e.assets)}},{key:\"linkToAccount\",value:function(e){return e?r.a.createElement(ze.a,{account:e}):r.a.createElement(\"span\",null,\"-\")}},{key:\"_toggleFilter\",value:function(e){this.setState({activeFilter:e.target.value})}},{key:\"_onFilter\",value:function(e,t){this.setState(Ze({},e,t.target.value.toUpperCase())),y.a.changeViewSetting(Ze({},e,t.target.value.toUpperCase()))}},{key:\"render\",value:function(){var e=this,t=this.props.assets,n=this.state.activeFilter,a=(s.a.translate(\"markets.filter\").toUpperCase(),p.ChainStore.getAsset(\"1.3.0\")),o=void 0,i=[],l=[];return\"user\"==n&&(l=[{key:\"symbol\",title:\"symbol\",dataIndex:\"symbol\",defaultSortOrder:\"ascend\",sorter:function(e,t){return e.symbol>t.symbol?1:e.symbol<t.symbol?-1:0},render:function(e){return r.a.createElement(se.a,{to:\"/asset/\"+e},r.a.createElement(He.a,{name:e}))}},{key:\"issuer\",title:\"issuer\",dataIndex:\"issuer\",sorter:function(e,t){var n=p.ChainStore.getAccount(e.issuer,!1),a=p.ChainStore.getAccount(t.issuer,!1);return n&&(n=n.get(\"name\")),a&&(a=a.get(\"name\")),n>a?1:n<a?-1:0},render:function(t){return e.linkToAccount(t)}},{key:\"currentSupply\",title:\"Supply\",dataIndex:\"currentSupply\",sorter:function(e,t){return e.currentSupply=parseFloat(e.currentSupply),t.currentSupply=parseFloat(t.currentSupply),e.currentSupply>t.currentSupply?1:e.currentSupply<t.currentSupply?-1:0},render:function(e,t){return r.a.createElement(m.a,{amount:t.currentSupply,asset:t.assetId,hide_asset:!0})}},{key:\"marketId\",title:\"\",dataIndex:\"marketId\",render:function(e){return r.a.createElement(se.a,{to:\"/market/\"+e},r.a.createElement(E.Icon,{type:\"line-chart\"}),\" \",r.a.createElement(h.a,{content:\"header.exchange\"}))}}],t.filter((function(t){return!t.market_asset&&-1!==t.symbol.indexOf(e.state.filterSearch)})).map((function(e){var t=Ve.a.parseDescription(e.options.description),n=e.symbol+\"_\"+(t.market?t.market:a?a.get(\"symbol\"):\"BTS\");i.push({symbol:e.symbol,issuer:e.issuer,currentSupply:e.dynamic.current_supply,assetId:e.id,marketId:n})}))),\"market\"==n&&(l=[{key:\"symbol\",title:\"symbol\",dataIndex:\"symbol\",defaultSortOrder:\"ascend\",sorter:function(e,t){return e.symbol>t.symbol?1:e.symbol<t.symbol?-1:0},render:function(e){return r.a.createElement(se.a,{to:\"/asset/\"+e},r.a.createElement(He.a,{name:e}))}},{key:\"issuer\",title:\"issuer\",dataIndex:\"issuer\",sorter:function(e,t){var n=p.ChainStore.getAccount(e.issuer,!1),a=p.ChainStore.getAccount(t.issuer,!1);return n&&(n=n.get(\"name\")),a&&(a=a.get(\"name\")),n>a?1:n<a?-1:0},render:function(t){return e.linkToAccount(t)}},{key:\"currentSupply\",title:\"Supply\",dataIndex:\"currentSupply\",sorter:function(e,t){return e.currentSupply=parseFloat(e.currentSupply),t.currentSupply=parseFloat(t.currentSupply),e.currentSupply>t.currentSupply?1:e.currentSupply<t.currentSupply?-1:0},render:function(e,t){return r.a.createElement(m.a,{amount:t.currentSupply,asset:t.assetId,hide_asset:!0})}},{key:\"marketId\",title:\"\",dataIndex:\"marketId\",render:function(e){return r.a.createElement(se.a,{to:\"/market/\"+e},r.a.createElement(E.Icon,{type:\"line-chart\"}),\" \",r.a.createElement(h.a,{content:\"header.exchange\"}))}}],t.filter((function(t){return t.bitasset_data&&!t.bitasset_data.is_prediction_market&&-1!==t.symbol.indexOf(e.state.filterSearch)})).map((function(e){var t=Ve.a.parseDescription(e.options.description),n=e.symbol+\"_\"+(t.market?t.market:a?a.get(\"symbol\"):\"BTS\");i.push({symbol:e.symbol,issuer:e.issuer,currentSupply:e.dynamic.current_supply,assetId:e.id,marketId:n})}))),\"prediction\"==n&&(o=t.filter((function(t){var n=Ve.a.parseDescription(t.options.description);return t.bitasset_data&&t.bitasset_data.is_prediction_market&&(-1!==t.symbol.toLowerCase().indexOf(e.state.filterSearch.toLowerCase())||-1!==n.main.toLowerCase().indexOf(e.state.filterSearch.toLowerCase()))})).sort((function(e,t){return e.symbol<t.symbol?-1:e.symbol>t.symbol?1:0})).map((function(e){var t=Ve.a.parseDescription(e.options.description);return{asset:e,description:t,marketID:e.symbol+\"_\"+(t.market?t.market:a?a.get(\"symbol\"):\"BTS\")}})).toArray()),r.a.createElement(\"div\",{className:\"grid-block vertical\"},r.a.createElement(\"div\",{className:\"grid-block vertical\"},r.a.createElement(\"div\",{className:\"grid-block main-content small-12 medium-10 medium-offset-1 main-content vertical\"},r.a.createElement(\"div\",{className:\"generic-bordered-box\"},r.a.createElement(\"div\",{style:{textAlign:\"left\",marginBottom:\"24px\"}},r.a.createElement(\"span\",{style:{display:\"inline-block\",width:\"0px\",marginTop:\"2px\",float:\"left\",fontSize:\"18px\"}},this.state.isLoading?r.a.createElement(E.Icon,{type:\"loading\"}):null),r.a.createElement(w.a,{value:this.state.filterSearch,style:{width:\"200px\"},onChange:this.handleFilterChange}),r.a.createElement(E.Radio.Group,{value:this.state.activeFilter,onChange:this._toggleFilter,style:{marginBottom:\"7px\",marginLeft:\"24px\"}},r.a.createElement(E.Radio,{value:\"market\"},r.a.createElement(h.a,{content:\"explorer.assets.market\"})),r.a.createElement(E.Radio,{value:\"user\"},r.a.createElement(h.a,{content:\"explorer.assets.user\"})),r.a.createElement(E.Radio,{value:\"prediction\"},r.a.createElement(h.a,{content:\"explorer.assets.prediction\"}))),r.a.createElement(E.Select,{style:{width:\"150px\",marginLeft:\"24px\"},value:this.state.rowsOnPage,onChange:this.handleRowsChange},r.a.createElement(E.Select.Option,{key:\"10\"},\"10 rows\"),r.a.createElement(E.Select.Option,{key:\"25\"},\"25 rows\"),r.a.createElement(E.Select.Option,{key:\"50\"},\"50 rows\"),r.a.createElement(E.Select.Option,{key:\"100\"},\"100 rows\"),r.a.createElement(E.Select.Option,{key:\"200\"},\"200 rows\"))),\"prediction\"==n?r.a.createElement(Ke.a,{style:{paddingBottom:20},size:\"large\",itemLayout:\"horizontal\",dataSource:o,renderItem:function(e){return r.a.createElement(Ke.a.Item,{key:e.asset.id.split(\".\")[2],actions:[r.a.createElement(se.a,{className:\"button outline\",to:\"/market/\"+e.marketID},r.a.createElement(h.a,{content:\"header.exchange\"}))]},r.a.createElement(Ke.a.Item.Meta,{title:r.a.createElement(\"div\",null,r.a.createElement(\"span\",{style:{paddingTop:10,fontWeight:\"bold\"}},r.a.createElement(se.a,{to:\"/asset/\"+e.asset.symbol},r.a.createElement(He.a,{name:e.asset.symbol}))),e.description.condition?r.a.createElement(\"span\",null,\" \",\"(\",e.description.condition,\")\"):null),description:r.a.createElement(\"span\",null,e.description?r.a.createElement(\"div\",{style:{padding:\"10px 20px 5px 0\",lineHeight:\"18px\"}},e.description.main):null,r.a.createElement(\"span\",{style:{padding:\"0 20px 5px 0\",lineHeight:\"18px\"}},r.a.createElement(ze.a,{account:e.asset.issuer}),r.a.createElement(\"span\",null,\" \",\"-\",\" \",r.a.createElement(m.a,{amount:e.asset.dynamic.current_supply,asset:e.asset.id})),e.description.expiry?r.a.createElement(\"span\",null,\" \",\"-\",\" \",e.description.expiry):null))}))},pagination:{position:\"bottom\",pageSize:6}}):r.a.createElement(E.Table,{style:{width:\"100%\",marginTop:\"16px\"},rowKey:\"symbol\",columns:l,dataSource:i})))))}}]),t}(r.a.Component);$e.defaultProps={assets:{}},$e.propTypes={assets:We.a.object.isRequired};var et=$e,tt=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function nt(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function at(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var rt=function(e){function t(){return nt(this,t),at(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),tt(t,[{key:\"render\",value:function(){return r.a.createElement(U.a,{stores:[Re.a,g.a],inject:{assets:function(){return Re.a.getState().assets},filterMPA:function(){return g.a.getState().viewSettings.get(\"filterMPA\")},filterUIA:function(){return g.a.getState().viewSettings.get(\"filterUIA\")}}},r.a.createElement(et,null))}}]),t}(r.a.Component),ot=n(23),st=n(2025),it=n(42),lt=n(34),ct=n(371),ut=n(41),pt=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var mt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={searchTerm:e.searchTerm,isLoading:!1,rowsOnPage:\"25\"},n._searchAccounts=Object(st.a)(n._searchAccounts,200),n.handleRowsChange=n.handleRowsChange.bind(n),n.balanceObjects=[],n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),pt(t,[{key:\"shouldComponentUpdate\",value:function(e,t){return!l.a.is(e.searchAccounts,this.props.searchAccounts)||t.searchTerm!==this.state.searchTerm||t.isLoading!==this.state.isLoading}},{key:\"_onSearchChange\",value:function(e){this.setState({searchTerm:e.target.value.toLowerCase(),isLoading:!0}),this._searchAccounts(e.target.value)}},{key:\"_searchAccounts\",value:function(e){it.a.accountSearch(e),this.setState({isLoading:!1})}},{key:\"_onAddContact\",value:function(e,t){t.preventDefault(),it.a.addAccountContact(e),this.forceUpdate()}},{key:\"_onRemoveContact\",value:function(e,t){t.preventDefault(),it.a.removeAccountContact(e),this.forceUpdate()}},{key:\"handleRowsChange\",value:function(e){this.setState({rowsOnPage:e}),this.forceUpdate()}},{key:\"_ensureBalanceObject\",value:function(e){e&&\"string\"==typeof e&&(this.balanceObjects[e]||(this.balanceObjects[e]=parseFloat(p.ChainStore.getObject(e).get(\"balance\")))),this.balanceObjects[e]||(this.balanceObjects[e]=0)}},{key:\"render\",value:function(){var e,t=this,n=this.props.searchAccounts,a=this.state.searchTerm,o=[];return e=[{title:r.a.createElement(h.a,{component:\"span\",content:\"explorer.assets.id\"}),dataIndex:\"accountId\",key:\"accountId\",defaultSortOrder:\"ascend\",sorter:function(e,t){return e.accountId>t.accountId?1:e.accountId<t.accountId?-1:0},render:function(e){return r.a.createElement(\"div\",null,e)}},{title:r.a.createElement(lt.a,{name:\"user\",title:\"icons.user.account\"}),dataIndex:\"accountContacts\",key:\"accountContacts\",render:function(e,n){return e.has(n.accountName)?r.a.createElement(\"div\",{onClick:t._onRemoveContact.bind(t,n.accountName)},r.a.createElement(lt.a,{name:\"minus-circle\",title:\"icons.minus_circle.remove_contact\"})):r.a.createElement(\"div\",{onClick:t._onAddContact.bind(t,n.accountName)},r.a.createElement(lt.a,{name:\"plus-circle\",title:\"icons.plus_circle.add_contact\"}))}},{title:r.a.createElement(h.a,{component:\"span\",content:\"account.name\"}),dataIndex:\"accountName\",key:\"accountName\",sorter:function(e,t){return e.accountName>t.accountName?1:e.accountName<t.accountName?-1:0},render:function(e){return r.a.createElement(\"div\",null,r.a.createElement(se.a,{to:\"/account/\"+e+\"/overview\"},e))}},{title:r.a.createElement(h.a,{component:\"span\",content:\"gateway.balance\"}),dataIndex:\"accountBalance\",key:\"accountBalance\",sorter:function(e,n){return t._ensureBalanceObject(e.accountBalance),t._ensureBalanceObject(n.accountBalance),t.balanceObjects[e.accountBalance]>t.balanceObjects[n.accountBalance]?1:t.balanceObjects[e.accountBalance]<t.balanceObjects[n.accountBalance]?-1:0},render:function(e){return r.a.createElement(\"div\",null,e?r.a.createElement(ct.a,{balance:e}):\"n/a\")}},{title:r.a.createElement(h.a,{component:\"span\",content:\"account.percent\"}),dataIndex:\"accountBalance\",key:\"accountBalancePercentage\",sorter:function(e,n){return t._ensureBalanceObject(e.accountBalance),t._ensureBalanceObject(n.accountBalance),t.balanceObjects[e.accountBalance]>t.balanceObjects[n.accountBalance]?1:t.balanceObjects[e.accountBalance]<t.balanceObjects[n.accountBalance]?-1:0},render:function(e){return r.a.createElement(\"div\",null,e?r.a.createElement(ct.a,{balance:e,asPercentage:!0}):\"n/a\")}}],n.size>0&&a&&a.length>0&&n.filter((function(e){return-1!==e.indexOf(a)})).sort((function(e,t){return e>t?1:e<t?-1:0})).map((function(e,t){var n=p.ChainStore.getAccount(t.toLowerCase()),a=n&&n.getIn([\"balances\",\"1.3.0\"])||null;o.push({accountId:t,accountContacts:ot.a.getState().accountContacts,accountName:e,accountBalance:a})})),r.a.createElement(\"div\",{className:\"grid-block vertical\"},r.a.createElement(\"div\",{className:\"grid-block vertical\"},r.a.createElement(\"div\",{className:\"grid-block main-content small-12 medium-10 medium-offset-1 main-content vertical\"},r.a.createElement(\"div\",{className:\"generic-bordered-box\"},r.a.createElement(\"div\",{style:{textAlign:\"left\",marginBottom:\"24px\"}},r.a.createElement(w.a,{placeholder:\"Search\",value:this.state.searchTerm,style:{width:\"200px\"},onChange:this._onSearchChange.bind(this)}),r.a.createElement(E.Select,{style:{width:\"150px\",marginLeft:\"24px\"},value:this.state.rowsOnPage,onChange:this.handleRowsChange},r.a.createElement(E.Select.Option,{key:\"10\"},\"10 rows\"),r.a.createElement(E.Select.Option,{key:\"25\"},\"25 rows\"),r.a.createElement(E.Select.Option,{key:\"50\"},\"50 rows\"),r.a.createElement(E.Select.Option,{key:\"100\"},\"100 rows\"),r.a.createElement(E.Select.Option,{key:\"200\"},\"200 rows\")),r.a.createElement(\"div\",{style:{display:\"inline-block\",marginLeft:\"24px\"}},this.state.searchTerm&&0==this.state.searchTerm.length?r.a.createElement(h.a,{content:\"account.start_typing_to_search\"}):null)),r.a.createElement(E.Table,{style:{width:\"100%\",marginTop:\"16px\"},rowKey:\"accountId\",columns:e,dataSource:o,pagination:{position:\"bottom\",pageSize:Number(this.state.rowsOnPage)}}),this.state.isLoading?r.a.createElement(\"div\",{style:{textAlign:\"center\",padding:10}},r.a.createElement(ut.a,{type:\"three-bounce\"})):null))))}}]),t}(r.a.Component);mt.defaultProps={searchAccounts:{}},mt.propTypes={searchAccounts:We.a.object.isRequired};var ft=mt,ht=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function dt(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function bt(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var yt=function(e){function t(){return dt(this,t),bt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ht(t,[{key:\"render\",value:function(){return r.a.createElement(U.a,{stores:[ot.a],inject:{searchAccounts:function(){return ot.a.getState().searchAccounts},searchTerm:function(){return ot.a.getState().searchTerm}}},r.a.createElement(ft,null))}}]),t}(r.a.Component),gt=n(197),vt=n(2088),kt=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var _t=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={height:null},e._setDimensions=e._setDimensions.bind(e),e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),kt(t,[{key:\"componentWillMount\",value:function(){window.addEventListener(\"resize\",this._setDimensions,{capture:!1,passive:!0})}},{key:\"componentDidMount\",value:function(){this._setDimensions()}},{key:\"componentWillUnmount\",value:function(){window.removeEventListener(\"resize\",this._setDimensions)}},{key:\"_setDimensions\",value:function(){var e=this.refs.wrapper.offsetHeight;e!==this.state.height&&this.setState({height:e})}},{key:\"render\",value:function(){return r.a.createElement(\"div\",{ref:\"wrapper\",className:\"grid-block page-layout no-overflow\"},r.a.createElement(vt.a,{style:{width:\"100%\",padding:20},listHeight:this.state.height?this.state.height:null,className:\"no-overflow\",headerStyle:{paddingTop:0,borderTop:\"none\"},tabHeader:!0,columns:[{name:\"star\",index:1},{name:\"market\",index:2},{name:\"quoteSupply\",index:3},{name:\"vol\",index:4},{name:\"price\",index:5},{name:\"change\",index:6}]}))}}]),t}(r.a.Component),Et=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function wt(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function Ot(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var xt=function(e){function t(){return wt(this,t),Ot(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Et(t,[{key:\"render\",value:function(){return r.a.createElement(U.a,{stores:[g.a,Re.a,gt.a],inject:{starredMarkets:function(){return g.a.getState().starredMarkets},viewSettings:function(){return g.a.getState().viewSettings},lookupResults:function(){return Re.a.getState().lookupResults},marketBase:function(){return gt.a.getState().marketBase}}},r.a.createElement(_t,null))}}]),t}(r.a.Component),St=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Ct=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={tabs:[{name:\"blocks\",link:\"/explorer/blocks\",translate:\"explorer.blocks.title\",content:qe},{name:\"assets\",link:\"/explorer/assets\",translate:\"explorer.assets.title\",content:rt},{name:\"accounts\",link:\"/explorer/accounts\",translate:\"explorer.accounts.title\",content:yt},{name:\"witnesses\",link:\"/explorer/witnesses\",translate:\"explorer.witnesses.title\",content:M},{name:\"committee_members\",link:\"/explorer/committee-members\",translate:\"explorer.committee_members.title\",content:W},{name:\"markets\",link:\"/explorer/markets\",translate:\"markets.title\",content:xt},{name:\"fees\",link:\"/explorer/fees\",translate:\"fees.title\",content:re}]},n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),St(t,[{key:\"render\",value:function(){var e=this;return r.a.createElement(E.Tabs,{activeKey:this.props.location.pathname,animated:!1,style:{display:\"table\",height:\"100%\",width:\"100%\"},onChange:function(t){e.props.history.push(t)}},this.state.tabs.map((function(e){var t=e.content;return r.a.createElement(E.Tabs.TabPane,{key:e.link,tab:s.a.translate(e.translate)},r.a.createElement(\"div\",{className:\"padding\"},r.a.createElement(t,null)))})))}}]),t}(r.a.Component);t.default=Ct}}]);"],"mappings":"AAAA","sourceRoot":""}